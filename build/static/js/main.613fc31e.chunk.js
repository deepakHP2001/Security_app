(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{107:function(e,t,a){},124:function(e,t,a){},146:function(e,t,a){e.exports=a(449)},157:function(e,t,a){},191:function(e,t,a){},211:function(e,t,a){},358:function(e,t,a){},438:function(e,t,a){},449:function(e,t,a){"use strict";a.r(t);var r={};a.r(r),a.d(r,"setOrderDetailImages",function(){return $e}),a.d(r,"resetOrderDetailImagesStatus",function(){return Ze}),a.d(r,"resetOrderDetailImages",function(){return Xe}),a.d(r,"removeImageFromOrder",function(){return et}),a.d(r,"removeImage",function(){return tt}),a.d(r,"logoutAction",function(){return at}),a.d(r,"getOrderDetails",function(){return rt}),a.d(r,"getOrderPhones",function(){return nt}),a.d(r,"getOrderProducts",function(){return st}),a.d(r,"getOrders",function(){return ot}),a.d(r,"getAllIssueReasons",function(){return it}),a.d(r,"getAllDeliveryIssueReasons",function(){return ct}),a.d(r,"addRemarks",function(){return lt}),a.d(r,"saveProductIssues",function(){return ut}),a.d(r,"deleteProductIssues",function(){return dt}),a.d(r,"updateOrder",function(){return pt}),a.d(r,"resetGetOrders",function(){return mt}),a.d(r,"addWave",function(){return ht}),a.d(r,"reUploadWave",function(){return Et}),a.d(r,"uploadImages",function(){return vt}),a.d(r,"verifyDeliveryOtp",function(){return ft}),a.d(r,"resendDeliveryOtp",function(){return gt}),a.d(r,"sendDeliveryOtp",function(){return Ot}),a.d(r,"cancelOrderDelivery",function(){return bt}),a.d(r,"resetCancelDeliverySatuses",function(){return yt}),a.d(r,"sendEvent",function(){return It});var n=a(0),s=a.n(n),o=a(25),i=a(22),c=a(12),l=a(14),u=a(128),d=a(15),p=a(452),m=a(455),h=a(456),E=function(e){var t={};for(var a in e){var r=e[a];t[r]=r,t["".concat(r,"_BEGIN")]="".concat(r,"_BEGIN"),t["".concat(r,"_DONE")]="".concat(r,"_DONE"),t["".concat(r,"_FAIL")]="".concat(r,"_FAIL")}return t}(["LOGIN","LOGOUT","SEND_OTP","VERIFY_OTP","RESEND_OTP","ORDER_DETAIL_IMAGES","REMOVE_DETAIL_IMAGES","GET_WAREHOUSES","SET_WAREHOUSE","GET_ORDER_DETAILS","ADD_REMARKS","UPLOAD_IMAGES","ADD_WAVE","GET_ORDERS","REUPLOAD_WAVE","ORDER_STATUS_ACTION","RESET_GET_ORDERS","RESET_ORDER_DETAIL_IMAGES","REMOVE_DETAIL_IMAGES_ORDER","GET_ORDER_PHONES","SEND_DELIVERY_OTP","VERIFY_DELIVERY_OTP","RESEND_DELIVERY_OTP","GET_ALL_ISSUE_REASONS","GET_ORDER_PRODUCTS","SAVE_PRODUCT_ISSUES","UPDATE_ORDER","DELETE_PRODUCT_ISSUES","GET_DELIEVRY_ISSUE_REASONS","ORDER_RESAON_DETAIL_IMAGES","CANCEL_DELIVERY_ISSUE","INVOICE_IMAGES"]),v=1,f=2,g=3,O={status:0,errors:null},b=Object(p.a)(Object(m.a)(function(e){return[e,O]},["login","logout","orderDetailImages","sendOtp","resendOtp","verifyOtp","getWarehouses","getOrderDetails","addRemarks","uploadImages","addWave","getOrders","reUploadWave","orderStatusAction","getOrderPhones","sendDeliveryOtp","resendDeliveryOtp","verifyDeliveryOtp","getAllIssueReasons","getOrderProducts","saveProductIssues","updateOrder","deleteProductIssues","getDeliveryIssueReasons","cancelDeliveryIssue","invoiceImageUplaod"]));function y(e,t){return Object(h.a)(e,Object(d.a)({},t,{status:v,errors:null}))}function I(e,t){return Object(h.a)(e,Object(d.a)({},t,{status:f,errors:null}))}function N(e,t,a){return Object(h.a)(e,Object(d.a)({},t,{status:g,errors:a}))}var D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.LOGIN_BEGIN:return y(e,"login");case E.LOGIN_DONE:return I(e,"login");case E.LOGIN_FAIL:return N(e,"login",t.errors);case E.SEND_OTP_BEGIN:return y(e,"sendOtp");case E.SEND_OTP_DONE:return I(e,"sendOtp");case E.SEND_OTP_FAIL:return N(e,"sendOtp",t.errors);case E.RESEND_OTP_BEGIN:return y(e,"resendOtp");case E.RESEND_OTP_DONE:return I(e,"resendOtp");case E.RESEND_OTP_FAIL:return N(e,"resendOtp",t.errors);case E.VERIFY_OTP_BEGIN:return y(e,"verifyOtp");case E.VERIFY_OTP_DONE:return I(e,"verifyOtp");case E.VERIFY_OTP_FAIL:return N(e,"verifyOtp",t.errors);case E.LOGOUT_BEGIN:return y(e,"logout");case E.LOGOUT_DONE:return I(e,"logout");case E.ORDER_DETAIL_IMAGES_BEGIN:return y(e,"orderDetailImages");case E.ORDER_DETAIL_IMAGES_DONE:return I(e,"orderDetailImages");case E.ORDER_DETAIL_IMAGES_FAIL:return N(e,"orderDetailImages",t.errors);case E.GET_WAREHOUSES_BEGIN:return y(e,"getWarehouses");case E.GET_WAREHOUSES_DONE:return I(e,"getWarehouses");case E.GET_WAREHOUSES_FAIL:return N(e,"getWarehouses",t.errors);case E.GET_ORDER_DETAILS_BEGIN:return y(e,"getOrderDetails");case E.GET_ORDER_DETAILS_DONE:return I(e,"getOrderDetails");case E.GET_ORDER_DETAILS_FAIL:return N(e,"getOrderDetails",t.errors);case E.GET_ORDER_PHONES_BEGIN:return y(e,"getOrderPhones");case E.GET_ORDER_PHONES_DONE:return I(e,"getOrderPhones");case E.GET_ORDER_PHONES_FAIL:return N(e,"getOrderPhones",t.errors);case E.ADD_REMARKS_BEGIN:return y(e,"addRemarks");case E.ADD_REMARKS_DONE:return I(e,"addRemarks");case E.ADD_REMARKS_FAIL:return N(e,"addRemarks",t.errors);case E.ADD_WAVE_BEGIN:return y(e,"addWave");case E.ADD_WAVE_DONE:return I(e,"addWave");case E.ADD_WAVE_FAIL:return N(e,"addWave",t.errors);case E.GET_ORDERS_BEGIN:return y(e,"getOrders");case E.GET_ORDERS_DONE:return I(e,"getOrders");case E.GET_ORDERS_FAIL:return N(e,"getOrders",t.errors);case E.UPLOAD_IMAGES_BEGIN:return y(e,"uploadImages");case E.UPLOAD_IMAGES_DONE:return I(e,"uploadImages");case E.UPLOAD_IMAGES_FAIL:return N(e,"uploadImages",t.errors);case E.REUPLOAD_WAVE_BEGIN:return y(e,"reUploadWave");case E.REUPLOAD_WAVE_DONE:return I(e,"reUploadWave");case E.REUPLOAD_WAVE_FAIL:return N(e,"reUploadWave",t.errors);case E.ORDER_STATUS_ACTION_BEGIN:return y(e,"orderStatusAction");case E.ORDER_STATUS_ACTION_DONE:return I(e,"orderStatusAction");case E.ORDER_STATUS_ACTION_FAIL:return N(e,"orderStatusAction",t.errors);case E.SEND_DELIVERY_OTP_BEGIN:return y(e,"sendDeliveryOtp");case E.SEND_DELIVERY_OTP_DONE:return I(e,"sendDeliveryOtp");case E.SEND_DELIVERY_OTP_FAIL:return N(e,"sendDeliveryOtp",t.errors);case E.RESEND_DELIVERY_OTP_BEGIN:return y(e,"resendDeliveryOtp");case E.RESEND_DELIVERY_OTP_DONE:return I(e,"resendDeliveryOtp");case E.RESEND_DELIVERY_OTP_FAIL:return N(e,"resendDeliveryOtp",t.errors);case E.VERIFY_DELIVERY_OTP_BEGIN:return y(e,"verifyDeliveryOtp");case E.VERIFY_DELIVERY_OTP_DONE:return I(e,"verifyDeliveryOtp");case E.VERIFY_DELIVERY_OTP_FAIL:return N(e,"verifyDeliveryOtp",t.errors);case E.GET_ALL_ISSUE_REASONS_BEGIN:return y(e,"getAllIssueReasons");case E.GET_ALL_ISSUE_REASONS_DONE:return I(e,"getAllIssueReasons");case E.GET_ALL_ISSUE_REASONS_FAIL:return N(e,"getAllIssueReasons",t.errors);case E.GET_DELIEVRY_ISSUE_REASONS_BEGIN:return y(e,"getDeliveryIssueReasons");case E.GET_DELIEVRY_ISSUE_REASONS_DONE:return I(e,"getDeliveryIssueReasons");case E.GET_DELIEVRY_ISSUE_REASONS_FAIL:return N(e,"getDeliveryIssueReasons",t.errors);case E.GET_ORDER_PRODUCTS_BEGIN:return y(e,"getOrderProducts");case E.GET_ORDER_PRODUCTS_DONE:return I(e,"getOrderProducts");case E.GET_ORDER_PRODUCTS_FAIL:return N(e,"getOrderProducts",t.errors);case E.SAVE_PRODUCT_ISSUES_BEGIN:return y(e,"saveProductIssues");case E.SAVE_PRODUCT_ISSUES_DONE:return I(e,"saveProductIssues");case E.SAVE_PRODUCT_ISSUES_FAIL:return N(e,"saveProductIssues",t.errors);case E.DELETE_PRODUCT_ISSUES_BEGIN:return y(e,"deleteProductIssues");case E.DELETE_PRODUCT_ISSUES_DONE:return I(e,"deleteProductIssues");case E.DELETE_PRODUCT_ISSUES_FAIL:return N(e,"deleteProductIssues",t.errors);case E.UPDATE_ORDER_BEGIN:return y(e,"updateOrder");case E.UPDATE_ORDER_DONE:return I(e,"updateOrder");case E.UPDATE_ORDER_FAIL:return N(e,"updateOrder",t.errors);case E.CANCEL_DELIVERY_ISSUE_BEGIN:return y(e,"cancelDeliveryIssue");case E.CANCEL_DELIVERY_ISSUE_DONE:return I(e,"cancelDeliveryIssue");case E.CANCEL_DELIVERY_ISSUE_FAIL:return N(e,"cancelDeliveryIssue",t.errors);case E.INVOICE_IMAGES_BEGIN:return y(e,"invoiceImageUplaod");case E.INVOICE_IMAGES_DONE:return I(e,"invoiceImageUplaod");case E.INVOICE_IMAGES_FAIL:return N(e,"invoiceImageUplaod",t.errors);default:return e}},S={user:null};var _=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.VERIFY_OTP_DONE:case E.SIGNUP_DONE:return Object(h.a)(e,{user:t.user,isAuthenticated:!0,token:window.localStorage.getItem("token")});case E.LOGOUT_DONE:return Object(h.a)(e,{user:null,isAuthenticated:!1,token:null});default:return e}},P=a(21);function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function R(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(a,!0).forEach(function(t){Object(d.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var j={uploadedImages:{},reasonImages:{},invoiceImages:{},updatedProductIssue:{}};var C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.GET_ORDER_DETAILS_DONE:return Object(h.a)(e,{orderDetails:t.orderDetails});case E.GET_ORDER_PHONES_DONE:return Object(h.a)(e,{orderPhones:t.orderPhones});case E.SAVE_PRODUCT_ISSUES_DONE:var a=R({},e.updatedProductIssue);return a[t.productId]=t.updatedProductIssue,Object(h.a)(e,{updatedProductIssue:a,deletedProductId:null});case E.DELETE_PRODUCT_ISSUES_DONE:var r=R({},e.updatedProductIssue);return r[t.productId]=t.updatedProductIssue,Object(h.a)(e,{updatedProductIssue:r,deletedProductId:t.productId});case E.GET_ORDER_PRODUCTS_DONE:return Object(h.a)(e,{orderProducts:t.orderProducts,updatedProductId:t.productId});case E.GET_ALL_ISSUE_REASONS_DONE:return Object(h.a)(e,{reasons:t.reasons});case E.GET_DELIEVRY_ISSUE_REASONS_DONE:return Object(h.a)(e,{deliveryReasons:t.deliveryReasons});case E.ORDER_DETAIL_IMAGES_DONE:var n=[];if(e.uploadedImages[t.id]&&(n=Object(P.a)(e.uploadedImages[t.id])),1==t.images.length)n.push(t.images[0]);else for(var s=0;s<t.images.length;s++)n.push(t.images[s]);return Object(h.a)(e,{uploadedImages:Object(d.a)({},t.id,n)});case E.ORDER_RESAON_DETAIL_IMAGES_DONE:var o=[];if(e.reasonImages[t.id]&&(o=Object(P.a)(e.reasonImages[t.id])),1==t.images.length)o.push(t.images[0]);else for(var i=0;i<t.images.length;i++)o.push(t.images[i]);return Object(h.a)(e,{reasonImages:Object(d.a)({},t.id,o)});case E.INVOICE_IMAGES_DONE:var c=[];if(e.invoiceImages[t.id]&&(c=Object(P.a)(e.invoiceImages[t.id])),1==t.images.length)c.push(t.images[0]);else for(var l=0;l<t.images.length;l++)c.push(t.images[l]);return Object(h.a)(e,{invoiceImages:Object(d.a)({},t.id,c)});case E.GET_ORDERS_DONE:var u=t.orders,p=R({},e);return p.orders=u,R({},p);case E.REMOVE_DETAIL_IMAGES_DONE:var m=R({},e.uploadedImages);return m[t.id]=t.images,Object(h.a)(e,{uploadedImages:m});case E.RESET_ORDER_DETAIL_IMAGES_DONE:var v=R({},e);return v.uploadedImages={},v.reasonImages={},v.invoiceImages={},v;case E.ADD_REMARKS_DONE:var f=R({},e);return f.orderDetails.remarks.push({message:t.remark.remark,userType:t.remark.remarkBy}),Object(h.a)(e,{orderDetails:f});case E.REMOVE_DETAIL_IMAGES_ORDER_DONE:var g=R({},e);return delete g.uploadedImages[t.id],g;default:return e}},A=Object(l.c)({auth:_,statuses:D,orders:C,routing:u.routerReducer}),T=a(129),M=Object(l.a)(T.a)(l.d);a(157);var L=a(5),w=a(6),V=a(8),U=a(7),F=a(9),G=a(13),x=function(e){function t(){return Object(L.a)(this,t),Object(V.a)(this,Object(U.a)(t).apply(this,arguments))}return Object(F.a)(t,e),Object(w.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&"PUSH"===this.props.history.action&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),t}(n.Component),B=Object(G.g)(x);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var W=a(55),Y=a(144),q=Object(G.g)(Object(c.b)(function(e){return{auth:e.auth}})(function(e){var t=e.component,a=Object(Y.a)(e,["component"]);return a.auth.isAuthenticated?a.reverse?s.a.createElement(G.a,{to:{pathname:"/orders"}}):s.a.createElement(G.b,Object.assign({},a,{component:t})):a.reverse?s.a.createElement(G.b,Object.assign({},a,{component:t})):s.a.createElement(G.a,{to:{pathname:"/auth",state:{from:a.location}}})})),H=(a(94),a(10)),z=a(453),Q=a(131),K=a.n(Q),J=a(132),$=a.n(J),Z=a(454),X=a(133),ee=a.n(X),te=a(29),ae=a.n(te),re={development:{urls:{podHost:"http://localhost:7777"}},production:{urls:{podHost:"https://pod.hyperpure.com/"}},staging:{urls:{podHost:"https://staging.hyperpure.com/"}},devServer:{urls:{podHost:"https://devpod.hyperpure.com/"}}},ne=Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_API_ENDPOINT?re[Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_API_ENDPOINT]:re.production;function se(e){var t={};return e&&(t.Authorization="".concat(window.localStorage.getItem("token")),t["X-Client"]="da"),K.a.create({baseURL:"".concat(ne.urls.podHost,"/"),withCredentials:!0,headers:t,paramsSerializer:ee.a.stringify})}function oe(e){var t,a=window.localStorage.getItem("token");if(Object(Z.a)("/login",window.location.pathname))return e;try{t=$()(a)}catch(r){return e}return ae.a.unix(t.exp)<ae()().add(5,"seconds")?new Promise(function(e){window.localStorage.removeItem("token"),window.localStorage.removeItem("user"),alert("Session Expired! Please login again"),window.location.href="/"}):e}var ie=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=se(e);return e&&t.interceptors.request.use(oe),t},ce="/api/otp",le="/api/otp/validate",ue="/api/orders/",de="/api/orders/",pe="/api/pod",me="/api/orders/",he="/api/orders",Ee="/api/reasons/",ve="/api/orders/",fe="/api/orders/",ge="/api/delivery/otp",Oe="/api/delivery/otp/validate",be="/api/orders/",ye="/api/orders/",Ie="api/orders/",Ne="/api/events",De={getOrders:{daNumber:"",orderNumber:"",status:"all",targetDeliveryDate:ae()().format("DD-MM-YYYY"),waveId:0,withImagesOnly:"false",openWavesOnly:"true",warehouseId:0,codOnly:"false",withQuantityIssues:"all"}},Se=function(e){return function(t){t({type:E.SEND_OTP_BEGIN}),e.countryCode="91",ie(!1).post(ce,e).then(function(e){e.data,e.headers;t({type:E.SEND_OTP_DONE})}).catch(function(e){t({type:E.SEND_OTP_FAIL,errors:Object(z.a)(["response","data"],e)})})}},_e=function(){return function(e){window.localStorage.removeItem("token"),window.localStorage.removeItem("user"),e({type:E.LOGOUT_DONE})}},Pe=function(e){function t(){var e,a;Object(L.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(V.a)(this,(e=Object(U.a)(t)).call.apply(e,[this].concat(n)))).toggleSideBar=function(e){var t=document.getElementById("sidebar");"open"==e?t.classList.add("drag-menu-visible"):t.classList.remove("drag-menu-visible")},a}return Object(F.a)(t,e),Object(w.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.history,r=t.logoutStatus;r!==e.logoutStatus&&r===f&&a.push("/auth")}},{key:"render",value:function(){var e=this,t=this.props,a=t.auth,r=t.logoutAction;return s.a.createElement(s.a.Fragment,null,s.a.createElement("header",{id:"header"},s.a.createElement("ul",{className:"header-list"},s.a.createElement("li",{className:" nav-menu__logo left nav-menu__logo--desktop"},s.a.createElement(i.c,{to:"/"},s.a.createElement("img",{src:"../images/hyperpure-logo-top.svg",alt:"logo"}))),s.a.createElement("li",{className:"mobile-only bars left"},s.a.createElement(H.a,{icon:"bars",onClick:function(){return e.toggleSideBar("open")}})),a.isAuthenticated?s.a.createElement(s.a.Fragment,null,s.a.createElement("li",{className:"list-ele pointer green-link"},s.a.createElement("span",{className:"gray-text"},"Hi")," ",a.user&&a.user.name),s.a.createElement("li",{className:"list-ele pointer green-text",onClick:r},"Logout")):null),s.a.createElement("div",{className:"menu-drag__wrapper",id:"sidebar",onClick:function(){return e.toggleSideBar("close")}},s.a.createElement(H.a,{icon:"times",className:"menu-drag__wrapper--cross"}),s.a.createElement("div",{className:"menu-drag__inner-wrapper"},s.a.createElement("ul",{className:"nav-menu-list"},s.a.createElement("li",{className:"list-ele nav-menu__logo"},s.a.createElement("img",{src:"../images/hyperpure-logo-top.svg",alt:"logo"})),s.a.createElement("li",{className:"list-ele"},"About ",s.a.createElement(H.a,{icon:"user",className:"icon-menu"})),s.a.createElement("li",{className:"list-ele"},"Pricing ",s.a.createElement(H.a,{icon:"tag",className:"icon-menu"})),s.a.createElement("li",{className:"list-ele"},"FAQs ",s.a.createElement(H.a,{icon:"scroll",className:"icon-menu"})),s.a.createElement("li",{className:"list-ele"},"Contact ",s.a.createElement(H.a,{icon:"phone",className:"icon-menu"})))))))}}]),t}(n.Component),ke=Object(G.g)(Object(c.b)(function(e){return{auth:e.auth,logoutStatus:e.statuses.logout.status}},function(e){return{logoutAction:function(){return e(_e())}}})(Pe)),Re=(a(191),n.Component,a(43)),je=a.n(Re),Ce=a(44),Ae=a.n(Ce),Te=function(e){return!/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/.test(e)},Me=function(e){return!e||""==e},Le=function(e){return new Promise(function(t,a){var r=new FileReader;r.readAsDataURL(e),r.onload=function(){return t(r.result)},r.onerror=function(e){return a(e)}})};function we(e){return Me(e)?"Phone number is required":Te(e)?"Invalid phone number":e.length<8?"Invalid phone number":null}function Ve(e){var t={phoneNumber:null,isValidated:!0};return t.phoneNumber=we(e.fields.phoneNumber),t.isValidated=!t.phoneNumber&&t.isValidated,t}function Ue(e){var t={otp:null,isValidated:!0};return Me(e.fields.otp)?(t.otp="Missing OTP",t.isValidated=!1):isNaN(e.fields.otp)?(t.otp="Invalid OTP",t.isValidated=!1):6!=e.fields.otp.length&&(t.otp="6 digit OTP is required",t.isValidated=!1),t}function Fe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function Ge(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Fe(a,!0).forEach(function(t){Object(d.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Fe(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var xe=function(e){function t(e){var a;return Object(L.a)(this,t),(a=Object(V.a)(this,Object(U.a)(t).call(this,e))).componentDidUpdate=function(e){var t=a.props.sendOtpStatus;t!==e.sendOtpStatus&&t===f&&a.props.sendOtpDone(a.state.login.fields.phoneNumber)},a.state={login:{fields:{phoneNumber:""},errors:{phoneNumber:null}},validations:{phoneNumber:null},allValidated:!1},a}return Object(F.a)(t,e),Object(w.a)(t,[{key:"handleChange",value:function(e,t,a){var r=this;this.setState(function(r){return Object(d.a)({},e,{errors:Ge({},r[e].errors),fields:Ge({},r[e].fields,Object(d.a)({},t,a))})},function(){r.validateThisField(e,t,a)})}},{key:"beginValidation",value:function(e,t,a){var r=this;this.setState(function(e){return{validations:Ge({},e.validations,Object(d.a)({},t,!0))}},function(){r.validateThisField(e,t,a)})}},{key:"validateThisField",value:function(e,t,a){var r=Ve(this.state[e]),n=r[t];this.setState(function(a){var s;return s={},Object(d.a)(s,e,Ge({},a[e],{errors:Ge({},a[e].errors,Object(d.a)({},t,n))})),Object(d.a)(s,"allValidated",r.isValidated),s})}},{key:"onLogin",value:function(e){var t=this;e.preventDefault();var a=Ve(this.state.login);return a.isValidated?this.setState(function(e){return{login:Ge({},e.login,{errors:{}})}},function(){t.props.sendOtp(t.state.login.fields)}):this.setState(function(e){return{login:Ge({},e.login,{errors:a})}}),!1}},{key:"render",value:function(){var e=this;return s.a.createElement("form",{onSubmit:function(t){return e.onLogin(t)}},s.a.createElement("div",{className:"input-field-wrap"},s.a.createElement(je.a,{label:"Phone number",type:"text",name:"phone",key:"login1",icon:this.state.validations.phoneNumber?this.state.login.errors.phoneNumber?"":s.a.createElement(Ae.a,null):"",iconColor:"green",value:this.state.login.fields.phoneNumber,onBlur:function(t){return e.beginValidation("login","phoneNumber",t)},errorMsg:this.state.validations.phoneNumber?this.state.login.errors.phoneNumber:null,onChange:function(t){return e.handleChange("login","phoneNumber",t)}})),s.a.createElement("div",{className:"btn-wrapper"},s.a.createElement("button",{type:"submit",className:this.state.allValidated?"btn btn-green":"btn btn-disabled"},this.props.sendOtpStatus==v?"Sending...":"Send OTP")),this.props.sendOtpStatus==g&&s.a.createElement("div",{className:"mt-2 red-text"},this.props.sendOtpError&&this.props.sendOtpError.error.message," "),this.props.errors&&this.props.errors.error?s.a.createElement("div",{className:"error mt-1"},this.props.errors.error.message):null)}}]),t}(n.Component),Be=Object(c.b)(function(e){return{errors:e.statuses.login.errors,status:e.statuses.login.status,sendOtpStatus:e.statuses.sendOtp.status,sendOtpError:e.statuses.sendOtp.errors}},function(e){return{sendOtp:Object(l.b)(Se,e)}})(xe),We=(a(210),a(82)),Ye=a.n(We),qe=(a(211),function(e){function t(e){var a;return Object(L.a)(this,t),(a=Object(V.a)(this,Object(U.a)(t).call(this))).focusPrevious=function(e){e<a.props.digits&&e>=0&&a.otpTextInput[e].focus()},a.onInputFieldClick=function(e,t){var r=a.props,n=r.digits,s=r.onChange,o=a.state.fieldValue;t!=n&&(e>=0&&e<=9)&&(o[t]=e,s(o.join("").toString()),""!==e&&a.focusPrevious(t+1));a.setState({fieldValue:o,enableIndex:t})},a.onFieldClick=function(e){a.setState({enableIndex:e})},a.onBlur=function(e){if(!a.node.contains(e.target)){var t=a.state.fieldValue;(0,a.props.validateOTP)(t.join("").toString()),a.setState({showError:!0})}},a.handleKeyPress=function(e,t){var r=e.which,n=a.state.fieldValue;8!==r&&46!==r||n[t]||a.focusPrevious(t-1)},a.state={otp:0,enableIndex:0,fieldValue:Array(e).fill(""),showError:!1},a.otpTextInput=[],a}return Object(F.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.onBlur)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.onBlur)}},{key:"renderDigits",value:function(){for(var e=this,t=this.props.digits,a=this.state,r=a.enableIndex,n=a.fieldValue,o=[],i=0,c=function(){var t=i;o.push(s.a.createElement("input",{className:r===i||n[t]?"input-field focus-field":"input-field",type:"tel",onKeyDown:function(a){return e.handleKeyPress(a,t)},onChange:function(a){return e.onInputFieldClick(a.target.value,t)},onFocus:function(){return e.onFieldClick(t)},value:n[i]||"",key:"input-".concat(i),id:"input-".concat(i),ref:function(a){return e.otpTextInput[t]=a},autoFocus:r===i,autoComplete:"off"})),i++};i<t;)c();return o}},{key:"render",value:function(){var e=this,t=this.renderDigits(),a=this.props.errorMsg,r=this.state.showError;return s.a.createElement("div",{className:"otp-container"},s.a.createElement("span",{className:"otp-heading"},"Enter OTP"),s.a.createElement("div",{className:"input-container",ref:function(t){return e.node=t}},t.map(function(e){return e})),r||a?s.a.createElement("span",{className:"mt-2 red-text"},a):null)}}]),t}(n.Component));function He(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function ze(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?He(a,!0).forEach(function(t){Object(d.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):He(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Qe=function(e){function t(e){var a;return Object(L.a)(this,t),(a=Object(V.a)(this,Object(U.a)(t).call(this,e))).state={otp:{fields:{otp:""},errors:{otp:null}},validations:{otp:null},allValidated:!1,resetSetTimeout:!1},a}return Object(F.a)(t,e),Object(w.a)(t,[{key:"handleChange",value:function(e,t,a){var r=this;this.setState(function(r){return Object(d.a)({},e,{errors:ze({},r[e].errors),fields:ze({},r[e].fields,Object(d.a)({},t,a))})},function(){r.validateThisField(e,t,a)})}},{key:"beginValidation",value:function(e,t,a){var r=this;this.setState(function(e){return{validations:ze({},e.validations,Object(d.a)({},t,!0))}},function(){r.validateThisField(e,t,a)})}},{key:"validateThisField",value:function(e,t,a){var r=Ue(this.state[e]),n=r[t];this.setState(function(a){var s;return s={},Object(d.a)(s,e,ze({},a[e],{errors:ze({},a[e].errors,Object(d.a)({},t,n))})),Object(d.a)(s,"allValidated",r.isValidated),s})}},{key:"resendOtp",value:function(e){var t=this,a={};a.phoneNumber=this.props.phoneNumber,this.setState({resetSetTimeout:!0}),setTimeout(function(){t.setState({resetSetTimeout:!1})},15e3),this.props.actions.resendOtp(a)}},{key:"onSubmitOTP",value:function(e){var t=this;e.preventDefault();var a=Ue(this.state.otp);a.isValidated?this.setState(function(e){return{otp:ze({},e.otp,{errors:{}})}},function(){var e=t.state.otp.fields;e.phoneNumber=t.props.phoneNumber,t.props.actions.otpVerifyAction(e)}):this.setState(function(e){return{otp:ze({},e.otp,{errors:a})}})}},{key:"render",value:function(){var e=this,t=this.props,a=t.verifyOtpStatus,r=t.verifyOtpError,n=t.resendOtpStatus,o=t.resendOtpError;return s.a.createElement("form",{onSubmit:function(t){return e.onSubmitOTP(t)}},s.a.createElement("div",{className:"input-field-wrap"},s.a.createElement(qe,{digits:6,onChange:function(t){return e.handleChange("otp","otp",t)},validateOTP:function(t){return e.beginValidation("otp","otp",t)},errorMsg:this.state.validations.otp?this.state.otp.errors.otp:null})),s.a.createElement("div",{className:"btn-wrapper"},s.a.createElement("button",{type:"submit",className:this.state.allValidated?"btn btn-green":"btn btn-disabled"},"Verify OTP"),a===g&&s.a.createElement("div",{className:"mt-2 red-text"},r.error.message)),s.a.createElement("div",{className:"btn-wrapper mt-4"},"Didn't receive OTP?",s.a.createElement("br",null),n===v?s.a.createElement("span",{className:"green-link"},"Sending..."):s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{className:this.state.resetSetTimeout?"green-link disabled":"green-link pointer",onClick:function(){return e.resendOtp()}},"Resend OTP"),n===g&&s.a.createElement("div",{className:"mt-2 red-text"},o.error.message)),s.a.createElement("br",null),n===f&&s.a.createElement("div",{className:"mt-1"},"OTP has been sent to your phone")),s.a.createElement("div",{className:"mt-7"},s.a.createElement("div",{className:"light-line"}),s.a.createElement("span",{className:"green-link",onClick:this.props.backToLogin},s.a.createElement(Ye.a,{className:"icon-color-green sushi-icon sushi-icon-align-neg icon-fs-14 vertical-align-top"})," \xa0Go Back")),this.props.errors&&this.props.errors.error?s.a.createElement("div",{className:"error mt-1"},this.props.errors.error.message):null)}}]),t}(n.Component),Ke={resendOtp:function(e){return function(t){t({type:E.RESEND_OTP_BEGIN}),e.countryCode="91",ie(!1).post(ce,e).then(function(e){e.data,e.headers,t({type:E.RESEND_OTP_DONE})}).catch(function(e){t({type:E.RESEND_OTP_FAIL,errors:Object(z.a)(["response","data"],e)})})}},otpVerifyAction:function(e){return function(t){t({type:E.VERIFY_OTP_BEGIN}),e.countryCode="91",ie(!1).post(le,e).then(function(a){a.data;var r=a.headers;if(r){var n=r.authorization;localStorage.setItem("token",n),localStorage.setItem("user",JSON.stringify({phone:e.phoneNumber}))}t({type:E.VERIFY_OTP_DONE,user:{phone:e.phoneNumber}})}).catch(function(e){t({type:E.VERIFY_OTP_FAIL,errors:Object(z.a)(["response","data"],e)})})}}},Je=Object(c.b)(function(e){return{verifyOtpError:e.statuses.verifyOtp.errors,verifyOtpStatus:e.statuses.verifyOtp.status,resendOtpError:e.statuses.resendOtp.errors,resendOtpStatus:e.statuses.resendOtp.status}},function(e){return{actions:Object(l.b)(Ke,e)}})(Qe),$e=(a(107),n.Component,function(e,t,a){return function(r){r("reason"===a?{type:E.ORDER_RESAON_DETAIL_IMAGES_DONE,images:t,id:e}:"invoice"===a?{type:E.INVOICE_IMAGES_DONE,images:t,id:e}:{type:E.ORDER_DETAIL_IMAGES_DONE,images:t,id:e})}}),Ze=function(){return function(e){e({type:E.ORDER_RESAON_DETAIL_IMAGES_BEGIN}),e({type:E.INVOICE_IMAGES_BEGIN}),e({type:E.ORDER_DETAIL_IMAGES_BEGIN})}},Xe=function(){return function(e){e({type:E.RESET_ORDER_DETAIL_IMAGES_DONE})}},et=function(e){return function(t){t({type:E.REMOVE_DETAIL_IMAGES_ORDER_DONE,id:e})}},tt=function(e,t,a,r){return function(e){var n=a.filter(function(e,a){if(a!=t)return e});e({type:E.REMOVE_DETAIL_IMAGES_DONE,images:n,id:r})}},at=function(e){return function(e){window.localStorage.removeItem("token"),e({type:E.LOGOUT_DONE})}},rt=function(e){return function(t){t({type:E.GET_ORDER_DETAILS_BEGIN}),ie().get("".concat(ue).concat(e)).then(function(e){var a=e.data;e.headers;t({type:E.GET_ORDER_DETAILS_DONE,orderDetails:a.response})}).catch(function(e){t({type:E.GET_ORDER_DETAILS_FAIL,errors:Object(z.a)(["response","data"],e)})})}},nt=function(e){return function(t){t({type:E.GET_ORDER_PHONES_BEGIN}),ie().get("".concat(ve).concat(e,"/phones")).then(function(e){var a=e.data;e.headers;t({type:E.GET_ORDER_PHONES_DONE,orderPhones:a.response})}).catch(function(e){t({type:E.GET_ORDER_PHONES_FAIL,errors:Object(z.a)(["response","data"],e)})})}},st=function(e){return function(t){t({type:E.GET_ORDER_PRODUCTS_BEGIN}),ie().get("".concat(fe).concat(e,"/products")).then(function(e){var a=e.data;e.headers;t({type:E.GET_ORDER_PRODUCTS_DONE,orderProducts:a.response})}).catch(function(e){t({type:E.GET_ORDER_PRODUCTS_FAIL,errors:Object(z.a)(["response","data"],e)})})}},ot=function(e){return function(t){var a=ae()().format("DD-MM-YYYY"),r=De.getOrders;r.targetDeliveryDate=a;var n=function(e,t){var a=Object.assign({},e),r="?";return Object.keys(e).map(function(e){t[e]?(a[e]=t[e],r+="".concat(e,"=").concat(t[e],"&")):r+="".concat(e,"=").concat(a[e],"&")}),r=r.substring(0,r.length-1)}(r,e);t({type:E.GET_ORDERS_BEGIN}),ie().get("".concat(he).concat(n)).then(function(e){var a=e.data;e.headers;t({type:E.GET_ORDERS_DONE,orders:a.response.orders})}).catch(function(e){t({type:E.GET_ORDERS_FAIL,errors:Object(z.a)(["response","data"],e)})})}},it=function(e){return function(t){t({type:E.GET_ALL_ISSUE_REASONS_BEGIN}),ie().get("".concat(Ee).concat(e)).then(function(e){var a=e.data;e.headers;t({type:E.GET_ALL_ISSUE_REASONS_DONE,reasons:a.response})}).catch(function(e){t({type:E.GET_ALL_ISSUE_REASONS_FAIL,errors:Object(z.a)(["response","data"],e)})})}},ct=function(e){return function(t){t({type:E.GET_DELIEVRY_ISSUE_REASONS_BEGIN}),ie().get("".concat(Ee).concat(e)).then(function(e){var a=e.data;e.headers;t({type:E.GET_DELIEVRY_ISSUE_REASONS_DONE,deliveryReasons:a.response})}).catch(function(e){t({type:E.GET_DELIEVRY_ISSUE_REASONS_FAIL,errors:Object(z.a)(["response","data"],e)})})}},lt=function(e){return function(t){t({type:E.ADD_REMARKS_BEGIN}),ie().post("".concat(de).concat(e.orderId,"/remarks/order_remark/").concat(e.orderId),{remark:e.remark}).then(function(a){a.data,a.headers;t({type:E.ADD_REMARKS_DONE,remark:e})}).catch(function(e){t({type:E.ADD_REMARKS_FAIL,errors:Object(z.a)(["response","data"],e)})})}},ut=function(e,t,a,r){return function(n){n({type:E.SAVE_PRODUCT_ISSUES_BEGIN}),n({type:E.DELETE_PRODUCT_ISSUES_BEGIN}),(r?function(e,t){return ie().put(e+"/"+r,t)}:function(e,t){return ie().post(e,t)})("".concat(be).concat(a,"/products/").concat(t,"/issues"),e).then(function(e){var a=e.data;e.headers;n(r?{type:E.SAVE_PRODUCT_ISSUES_DONE,updatedProductIssue:r,productId:t}:{type:E.SAVE_PRODUCT_ISSUES_DONE,updatedProductIssue:a.response,productId:t})}).catch(function(e){n({type:E.SAVE_PRODUCT_ISSUES_FAIL,errors:Object(z.a)(["response","data"],e)})})}},dt=function(e,t,a){return function(r){r({type:E.DELETE_PRODUCT_ISSUES_BEGIN});var n;(n="".concat(be).concat(t,"/products/").concat(e,"/issues"),ie().delete(n+"/"+a)).then(function(t){t.data,t.headers;r({type:E.DELETE_PRODUCT_ISSUES_DONE,updatedProductIssue:null,productId:e})}).catch(function(e){r({type:E.DELETE_PRODUCT_ISSUES_FAIL,errors:Object(z.a)(["response","data"],e)})})}},pt=function(e){return function(t){t({type:E.UPDATE_ORDER_BEGIN}),ie().put("".concat(ye).concat(e.orderId),e.data).then(function(e){e.data,e.headers;t({type:E.UPDATE_ORDER_DONE})}).catch(function(e){t({type:E.UPDATE_ORDER_FAIL,errors:Object(z.a)(["response","data"],e)})})}},mt=function(e){return function(e){e({type:E.RESET_GET_ORDERS_DONE})}},ht=function(e){return function(t){t({type:E.ADD_WAVE_BEGIN}),ie().post("".concat(me),e).then(function(e){e.data,e.headers;t({type:E.ADD_WAVE_DONE})}).catch(function(e){t({type:E.ADD_WAVE_FAIL,errors:Object(z.a)(["response","data"],e)})})}},Et=function(e){return function(t){t({type:E.REUPLOAD_WAVE_BEGIN}),ie().put("".concat(me),e).then(function(e){e.data,e.headers;t({type:E.REUPLOAD_WAVE_DONE})}).catch(function(e){t({type:E.REUPLOAD_WAVE_FAIL,errors:Object(z.a)(["response","data"],e)})})}},vt=function(e){return function(t){t({type:E.UPLOAD_IMAGES_BEGIN}),ie().post("".concat(pe),e).then(function(e){e.data,e.headers;t({type:E.UPLOAD_IMAGES_DONE})}).catch(function(e){t({type:E.UPLOAD_IMAGES_FAIL,errors:Object(z.a)(["response","data"],e)})})}},ft=function(e){return function(t){t({type:E.VERIFY_DELIVERY_OTP_BEGIN}),ie().post(Oe,e).then(function(e){e.data,e.headers;t({type:E.VERIFY_DELIVERY_OTP_DONE})}).catch(function(e){t({type:E.VERIFY_DELIVERY_OTP_FAIL,errors:Object(z.a)(["response","data"],e)})})}},gt=function(e){return function(t){t({type:E.RESEND_DELIVERY_OTP_BEGIN}),e.countryCode="91",ie().post(ge,e).then(function(e){e.data,e.headers;t({type:E.RESEND_DELIVERY_OTP_DONE})}).catch(function(e){t({type:E.RESEND_DELIVERY_OTP_FAIL,errors:Object(z.a)(["response","data"],e)})})}},Ot=function(e){return function(t){t({type:E.SEND_DELIVERY_OTP_BEGIN}),e.countryCode="91",ie().post(ge,e).then(function(e){e.data,e.headers;t({type:E.SEND_DELIVERY_OTP_DONE})}).catch(function(e){t({type:E.SEND_DELIVERY_OTP_FAIL,errors:Object(z.a)(["response","data"],e)})})}},bt=function(e,t){return function(a){a({type:E.CANCEL_DELIVERY_ISSUE_BEGIN}),t.countryCode="91",ie().post("".concat(Ie).concat(e,"/deliveryIssue"),t).then(function(e){e.data,e.headers;a({type:E.CANCEL_DELIVERY_ISSUE_DONE})}).catch(function(e){a({type:E.CANCEL_DELIVERY_ISSUE_FAIL,errors:Object(z.a)(["response","data"],e)})})}},yt=function(){return function(e){e({type:E.CANCEL_DELIVERY_ISSUE_BEGIN})}},It=function(e){return function(t){e.userType="da",e.entityType="order",ie().post("".concat(Ne),e).then(function(e){e.data,e.headers}).catch(function(e){})}},Nt=a(83),Dt=a.n(Nt),St=function(e){function t(){return Object(L.a)(this,t),Object(V.a)(this,Object(U.a)(t).apply(this,arguments))}return Object(F.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.enableBack;t.icon,this.props.match.params.id;return s.a.createElement(s.a.Fragment,null,s.a.createElement("header",{id:"header",className:"common-header"},s.a.createElement("ul",{className:"header-list"},s.a.createElement("li",{className:"left nav-menu__logo--desktop"},a&&s.a.createElement(s.a.Fragment,null,s.a.createElement(Dt.a,{className:"sushi-icon sushi-icon-align",onClick:function(){return e.props.history.goBack()}}),"\xa0\xa0")),s.a.createElement("li",{className:"nav-menu__logo left nav-menu__logo--desktop align-left"},s.a.createElement(i.b,{to:"/"},this.props.title)," ",this.props.routeId),s.a.createElement("li",{className:" pointer green-text flex-margin fs-12",onClick:this.props.logoutAction},"Logout"))))}}]),t}(n.Component),_t=Object(G.g)(Object(c.b)(function(e){return{logoutStatus:e.statuses.logout.status}},function(e){return{logoutAction:function(){return e(_e())}}})(St)),Pt=function(e){function t(){return Object(L.a)(this,t),Object(V.a)(this,Object(U.a)(t).apply(this,arguments))}return Object(F.a)(t,e),Object(w.a)(t,[{key:"handleCashCollectedClick",value:function(){var e=this.props.match.params.id;this.props.actions.updateOrder({orderId:e,data:{totalCash:parseInt(this.props.location.state.cash)}})}},{key:"componentDidUpdate",value:function(e,t,a){var r=this.props.updateOrderStatus;r!==e.updateOrderStatus&&r===f&&this.props.history.push({pathname:"/order/"+this.props.match.params.id+"/verifyDelivery",state:{orderNumber:this.props.location.state.orderNumber}})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,this.props.location.state?s.a.createElement("div",null,s.a.createElement(_t,{title:"".concat(this.props.location.state.orderNumber),enableBack:!0}),s.a.createElement("div",{className:"phone-card fs-24 pd-top-global green-text center"},s.a.createElement("div",{className:"mb-2 pd-top-global"},"Collect Cash"),s.a.createElement("div",{className:"fs-28"},"\u20b9",this.props.location.state.cash)),s.a.createElement("div",{className:"order-card mt-2 fixed-verify-section z-highest"},s.a.createElement("div",{className:"btn btn-expand btn-green ",onClick:function(){return e.handleCashCollectedClick()}},"I have collected the cash"))):s.a.createElement("div",null,s.a.createElement(_t,{title:"COD",enableBack:!0}),s.a.createElement("div",{className:"pd-top-global fs-18 red-text center"},"Unauthorized!!!")))}}]),t}(n.Component),kt=Object(G.g)(Object(c.b)(function(e){return{updateOrderStatus:e.statuses.updateOrder.status,updateOrderError:e.statuses.updateOrder.error,orders:e.orders}},function(e){return{actions:Object(l.b)(r,e)}})(Pt)),Rt=(a(60),function(e){function t(e){var a;return Object(L.a)(this,t),(a=Object(V.a)(this,Object(U.a)(t).call(this,e))).state={},a}return Object(F.a)(t,e),Object(w.a)(t,[{key:"getStatusBtn",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return s.a.createElement("div",{className:"order-value"},"pending"==e&&0==t&&s.a.createElement("div",{className:"btn btn-yellow btn-sm nohover"},"Pending"),"pending"==e&&1==t&&s.a.createElement("div",{className:"btn btn-disabled btn-sm nohover"},"Approval Pending"),"rejected"==e&&s.a.createElement("div",{className:"btn btn-red btn-sm nohover"},"Rejected"),"approved"==e&&s.a.createElement("div",{className:"btn btn-green btn-sm nohover"},"Approved"))}},{key:"getVerifiedBtn",value:function(e){return s.a.createElement("div",{className:"order-value"},"delivered"===e?s.a.createElement("div",{className:"btn btn-info btn-sm nohover"},"OTP Verified"):"cancelled"===e?s.a.createElement("div",{className:"btn btn-red-smoke btn-sm nohover"},"Cancelled"):s.a.createElement("div",{className:"btn btn-yellow btn-sm nohover"},"Pending"))}},{key:"getPhoneNumber",value:function(e){return e.length>0?s.a.createElement(s.a.Fragment,null,s.a.createElement(H.a,{icon:"phone",className:"blue-text"})," +91 ",e[0].phoneNumber):"-"}},{key:"sendToDetail",value:function(e,t){if("start"==t){var a={entityId:e,eventName:"delivery_start"};this.props.actions.sendEvent(a)}this.props.history.push("/order/"+e)}},{key:"render",value:function(){var e=this,t=this.props.order;return s.a.createElement("div",{className:"order-card mt-1 mb-1"},s.a.createElement("div",{className:"order-title"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-xs-6"},s.a.createElement("div",{className:"subtitle fs-15"},"Order - ",s.a.createElement("span",{className:"okra-med"},t.orderNumber))),s.a.createElement("div",{className:"col-xs-6 align-right"},s.a.createElement("div",{className:"value"},this.getVerifiedBtn(t.status))))),s.a.createElement("div",{className:"light-line"}),s.a.createElement("div",{className:"orders-body"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-xs-6"},s.a.createElement("div",{className:"mt-1 subtitle"},"Outlet"),s.a.createElement("div",{className:" value"},t.outletName)),s.a.createElement("div",{className:"col-xs-6"},s.a.createElement("div",{className:"mt-1 subtitle"},"Phone"),s.a.createElement("div",{className:" value"},s.a.createElement("a",{href:"tel:".concat(this.getPhoneNumber(t.phones))},this.getPhoneNumber(t.phones))))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-xs-12"},s.a.createElement("div",{className:"mt-1 subtitle"},"Address"),s.a.createElement("div",{className:" value"},t.outletAddress))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-xs-6"},s.a.createElement("div",{className:"mt-1 subtitle"},"Delivery Slot"),s.a.createElement("div",{className:" value"},s.a.createElement("div",{className:"mt-1 value"},""===t.slotTime?"-":t.slotTime)))),t.fetchedStatus?s.a.createElement(s.a.Fragment,null,"cancelled"!==t.status?s.a.createElement(s.a.Fragment,null,"delivered"!==t.status?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"btn btn-expand btn-green mt-2",onClick:function(a){return e.sendToDetail(t.orderId,"start")}},"Start Delivery Process"),s.a.createElement("div",{className:"btn btn-expand btn-transparent mt-1",onClick:function(a){return e.props.openReasonListModal(t.orderId)}},"Cancel Delivery")):s.a.createElement("div",{className:"btn btn-expand btn-transparent-green btn-normal mt-2",onClick:function(a){return e.sendToDetail(t.orderId,"delivery")}},"View details")):null):s.a.createElement("div",{className:"btn btn-expand btn-transparent mt-2"},"Updating order details...")))}}]),t}(n.Component)),jt=Object(G.g)(Object(c.b)(function(e){return{user:e.auth.user}},function(e){return{actions:Object(l.b)(r,e)}})(Rt)),Ct=a(137),At=(a(358),function(e){function t(e){var a;return Object(L.a)(this,t),(a=Object(V.a)(this,Object(U.a)(t).call(this,e))).state={},a}return Object(F.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this,t=this.props.filterId;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"order-filter-wrapper"},s.a.createElement("div",{className:"inline-list order-filter-wrapper_inner"},"FILTER \xa0",s.a.createElement(Ct.Filter,{className:"inline-block light-text fs-10 icon-small"}),s.a.createElement("div",{className:4==t?"btn btn-filter btn-active-filter":"btn btn-filter",onClick:function(t,a){return e.props.handelFilterChange(t,4,"PENDING")}},"Pending",4==t&&s.a.createElement(H.a,{icon:"times",className:"btn-icon",onClick:function(t){return e.props.clearFilter(t)}})),s.a.createElement("div",{className:5==t?"btn btn-filter btn-active-filter":"btn btn-filter",onClick:function(t,a){return e.props.handelFilterChange(t,5,!0)}},"Completed",5==t&&s.a.createElement(H.a,{icon:"times",className:"btn-icon",onClick:function(t){return e.props.clearFilter(t)}})))))}}]),t}(n.Component)),Tt=a(90),Mt=a.n(Tt),Lt=a(138),wt=function(e){function t(e){var a;return Object(L.a)(this,t),(a=Object(V.a)(this,Object(U.a)(t).call(this,e))).state={imagesUploaded:[]},a}return Object(F.a)(t,e),Object(w.a)(t,[{key:"handleImageInputClick",value:function(e){document.getElementById(e).click(function(e){})}},{key:"handleImagesStore",value:function(){var e=Object(Lt.a)(Mt.a.mark(function e(t){var a,r;return Mt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=[],r=0;case 2:if(!(r<t.length)){e.next=8;break}return e.next=5,Le(t[r]).then(function(e){a.push(e)}).catch(function(e){});case 5:r++,e.next=2;break;case 8:return e.abrupt("return",a);case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleSelectedImage",value:function(e,t){var a=this,r=e.target.files;this.setState({imagesUploaded:r},function(){a.props.hasSameRoute&&a.props.closePictureModeModal(),a.props.actions.setOrderDetailImages(a.props.id,r,t)})}},{key:"handleSelectedDefaultImage",value:function(e){var t=this,a=e.target.files;this.setState({imagesUploaded:a},function(){t.props.setImages(a)})}},{key:"componentDidMount",value:function(){this.props.actions.resetOrderDetailImages()}},{key:"uploadedImagesRedirect",value:function(){return s.a.createElement(s.a.Fragment,null,this.props.redirectedURL?s.a.createElement(G.a,{to:{pathname:"".concat(this.props.redirectedURL),state:{id:"".concat(this.props.id),images:"".concat(this.props.images)}}}):s.a.createElement(G.a,{to:{pathname:"/order/".concat(this.props.id)}}))}},{key:"reasonImagesRedirect",value:function(){return s.a.createElement(s.a.Fragment,null,this.props.redirectedURL?s.a.createElement(G.a,{to:{pathname:"".concat(this.props.redirectedURL)}}):s.a.createElement(G.a,{to:{pathname:"/order/".concat(this.props.id)}}))}},{key:"invoiceImagesRedirect",value:function(){this.props.redirectedURL?this.props.history.push({pathname:"".concat(this.props.redirectedURL),state:{id:"".concat(this.props.id),orderNumber:"".concat(this.props.orderNumber),images:"".concat(this.props.images)}}):this.props.history.push({pathname:"/order/".concat(this.props.id)})}},{key:"componentDidUpdate",value:function(e){e.isOpen!=this.props.isOpen&&this.props.hasNotWrapper&&document.getElementById("takePicture")&&this.handleImageInputClick("takePicture")}},{key:"render",value:function(){var e=this,t=this.props,a=t.isOpen,r=(t.status,t.hasNotWrapper);this.state.imagesUploaded;return a?r?s.a.createElement(s.a.Fragment,null,!this.props.default&&this.props.orders.uploadedImages[this.props.id]&&this.props.orders.uploadedImages[this.props.id].length>0&&this.uploadedImagesRedirect(),!this.props.default&&this.props.orders.reasonImages[this.props.id]&&this.props.orders.reasonImages[this.props.id].length>0&&this.reasonImagesRedirect(),!this.props.default&&this.props.orders.invoiceImages[this.props.id]&&this.props.orders.invoiceImages[this.props.id].length>0&&this.invoiceImagesRedirect(),this.props.default?s.a.createElement("input",{hidden:!0,type:"file",accept:"image/*",capture:"camera",id:"takePicture",onChange:function(t){return e.handleSelectedDefaultImage(t)}}):s.a.createElement("input",{hidden:!0,type:"file",accept:"image/*",capture:"camera",id:"takePicture",onChange:function(t,a){return e.handleSelectedImage(t,e.props.type)}})):s.a.createElement("div",{className:"modal"},!this.props.default&&this.props.orders.uploadedImages[this.props.id]&&this.props.orders.uploadedImages[this.props.id].length>0&&this.uploadedImagesRedirect(),!this.props.default&&this.props.orders.reasonImages[this.props.id]&&this.props.orders.reasonImages[this.props.id].length>0&&this.reasonImagesRedirect(),!this.props.default&&this.props.orders.invoiceImages[this.props.id]&&this.props.orders.invoiceImages[this.props.id].length>0&&this.invoiceImagesRedirect(),s.a.createElement("div",{className:"modal-overlay modal-picture"},s.a.createElement("div",{className:"modal-title align-left"},this.props.title?this.props.title:"Upload Photo",s.a.createElement(H.a,{icon:"times",className:"right",onClick:this.props.closePictureModeModal})),s.a.createElement("div",{className:"light-line"}),this.props.default?s.a.createElement("div",{className:"modal-body align-left"},this.props.modalBody&&this.props.modalBody(),s.a.createElement("input",{hidden:!0,type:"file",accept:"image/*",capture:"camera",id:"takePicture",onChange:function(t){return e.handleSelectedDefaultImage(t)}}),s.a.createElement("input",{hidden:!0,type:"file",accept:"image/*",multiple:!0,id:"selectPicture",onChange:function(t){return e.handleSelectedDefaultImage(t)}}),s.a.createElement("div",{className:"btn btn-green btn-expand",onClick:function(t){return e.handleImageInputClick("takePicture")}},s.a.createElement(H.a,{icon:"camera"})," \xa0Click photo")):s.a.createElement("div",{className:"modal-body align-left"},this.props.modalBody&&this.props.modalBody(),s.a.createElement("input",{hidden:!0,type:"file",accept:"image/*",capture:"camera",id:"takePicture",onChange:function(t,a){return e.handleSelectedImage(t,e.props.type)}}),s.a.createElement("input",{hidden:!0,type:"file",accept:"image/*",multiple:!0,id:"selectPicture",onChange:function(t,a){return e.handleSelectedImage(t,e.props.type)}}),s.a.createElement("div",{className:"btn btn-green btn-expand",onClick:function(t){return e.handleImageInputClick("takePicture")}},s.a.createElement(H.a,{icon:"camera"})," \xa0Click photo")))):null}}]),t}(n.Component),Vt=Object(G.g)(Object(c.b)(function(e){return{errors:e.statuses.orderDetailImages.errors,status:e.statuses.orderDetailImages.status,orders:e.orders}},function(e){return{actions:Object(l.b)(r,e)}})(wt));var Ut=function(e){return s.a.createElement("div",{className:"loader"},s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null))},Ft=function(e){function t(e){var a;return Object(L.a)(this,t),(a=Object(V.a)(this,Object(U.a)(t).call(this,e))).state={},a}return Object(F.a)(t,e),Object(w.a)(t,[{key:"handleImageInputClick",value:function(e){document.getElementById(e).click(function(e){})}},{key:"componentDidMount",value:function(){this.props.orders.deliveryReasons||this.props.actions.getAllDeliveryIssueReasons("deliveryIssue")}},{key:"goToReasonPage",value:function(e,t){this.props.history.push("/order/".concat(this.props.id,"/reason/").concat(e,"/").concat(t))}},{key:"renderReasonList",value:function(){var e=this,t=this.props.orders;return t&&t.deliveryReasons&&t.deliveryReasons.map(function(t,a){return s.a.createElement("div",{className:"reason-list",key:a,onClick:function(){return e.goToReasonPage(t.id,t.subtype)}},t.name,s.a.createElement(H.a,{icon:"chevron-right",className:"right gray-text"}))})}},{key:"render",value:function(){var e=this.props,t=e.isOpen;e.status,e.orders;return t?s.a.createElement("div",{className:"modal"},this.props.status!=f?s.a.createElement(Ut,null):s.a.createElement("div",{className:"modal-overlay modal-picture"},s.a.createElement("div",{className:"modal-title align-left"},"Tell us why you can't deliver",s.a.createElement(H.a,{icon:"times",className:"right",onClick:this.props.closeReasonListModal})),s.a.createElement("div",{className:"light-line"}),s.a.createElement("div",{className:"modal-body align-left"},this.renderReasonList()))):null}}]),t}(n.Component),Gt=Object(G.g)(Object(c.b)(function(e){return{errors:e.statuses.getDeliveryIssueReasons.errors,status:e.statuses.getDeliveryIssueReasons.status,orders:e.orders}},function(e){return{actions:Object(l.b)(r,e)}})(Ft)),xt=a(45),Bt=a.n(xt);function Wt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}var Yt=function(e){function t(e){var a;return Object(L.a)(this,t),(a=Object(V.a)(this,Object(U.a)(t).call(this,e))).setSearchVal=function(e){a.setState({searchVal:e.target.value})},a.state={openPictureModeModal:!1,filterId:null,filterValue:"",searchVal:"",selectedId:null,openReasonListModal:!1,selectedOrder:null},a}return Object(F.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){var e={daNumber:this.props.user.phone};this.props.actions.getOrders(e)}},{key:"openPictureModeModal",value:function(e){this.setState({openPictureModeModal:!0,selectedId:e})}},{key:"closePictureModeModal",value:function(){this.setState({openPictureModeModal:!1})}},{key:"handleSearchFilter",value:function(e){e.preventDefault();var t={orderNumber:this.state.searchVal,daNumber:this.props.user.phone},a={};return 1==this.state.filterId?a.withImagesOnly=this.state.filterValue:4==this.state.filterId?t.status="pending":5==this.state.filterId?t.status="completed":6==this.state.filterId?t.withDeliveryIssues="true":a.status=this.state.filterValue,t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Wt(a,!0).forEach(function(t){Object(d.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Wt(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},t,{},a),this.props.actions.getOrders(t),!1}},{key:"clearFilter",value:function(e){var t=this;e.stopPropagation(),this.setState({filterId:null,filterValue:""},function(){t.handleSearchFilter(e)})}},{key:"handelFilterChange",value:function(e,t,a){var r=this;this.setState({filterId:t,filterValue:a},function(){r.handleSearchFilter(e)})}},{key:"openReasonListModal",value:function(e,t){var a={entityId:e,eventName:"cancellation_start"};this.props.actions.sendEvent(a),this.setState({openReasonListModal:!0,selectedId:e,selectedOrder:t})}},{key:"closeReasonListModal",value:function(e){this.setState({openReasonListModal:!1,selectedOrder:null})}},{key:"render",value:function(){var e=this,t=this.state,a=t.openPictureModeModal,r=(t.closePictureModeModal,t.openReasonListModal),n=(t.closeReasonListModal,this.props),o=n.getOrdersStatus,i=n.orders;return s.a.createElement("div",{className:"hp-container gray-wrap pd-top-global"},s.a.createElement(Vt,{isOpen:a,closePictureModeModal:function(){return e.closePictureModeModal()},id:this.state.selectedId}),s.a.createElement(Gt,{isOpen:r,closeReasonListModal:function(){return e.closeReasonListModal()},id:this.state.selectedId,selectedOrder:this.state.selectedOrder}),s.a.createElement(_t,{title:i&&0==i.length?"Orders":"Route",routeId:i&&i.length>0&&i[0].route}),s.a.createElement("div",{className:"order-top-header"},s.a.createElement("form",{className:"no-style",onSubmit:function(t){return e.handleSearchFilter(t)}},s.a.createElement("div",{className:"input-field-wrap"},s.a.createElement("input",{type:"text",className:"input-field__input search-input",placeholder:"Search order number",onChange:this.setSearchVal}),s.a.createElement("button",{type:"submit",className:"search-icon"},s.a.createElement(Bt.a,{className:"icon-color-gray icon-fs-15"})))),s.a.createElement(At,{filterId:this.state.filterId,handelFilterChange:function(t,a,r){return e.handelFilterChange(t,a,r)},clearFilter:function(t){return e.clearFilter(t)}})),o==v?s.a.createElement(Ut,null):s.a.createElement(s.a.Fragment,null,this.props.orders&&this.props.orders.length>0?s.a.createElement(s.a.Fragment,null,this.props.orders.sort(function(e,t){if(e.status!==t.status)return"pending"===e.status?-1:1}).map(function(t,a){return s.a.createElement(jt,{order:t,openReasonListModal:function(t,a){return e.openReasonListModal(t,a)},openPictureModeModal:function(t){return e.openPictureModeModal(t)},key:a})})):s.a.createElement("div",{className:"black-text order-top-header mt-2"},"No Results Found")))}}]),t}(n.Component),qt={getOrders:ot,sendEvent:It},Ht=Object(c.b)(function(e){return{getOrdersStatus:e.statuses.getOrders.status,getOrdersError:e.statuses.getOrders.error,orders:e.orders.orders,user:e.auth.user}},function(e){return{actions:Object(l.b)(qt,e)}})(Yt),zt="delivered",Qt="cancelled",Kt="rejected",Jt="pending",$t="approved",Zt=a(39),Xt=(a(360),a(40));function ea(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function ta(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ea(a,!0).forEach(function(t){Object(d.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ea(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var aa=function(e){var t=e.photos,a=e.removeCross,r=e.showPhotoViewer,o=e.name,i=e.className,c=e.uploadImagesStatus,l=Object(n.useState)(0),u=Object(Zt.a)(l,2),d=u[0],p=u[1],m=Object(n.useState)(!1),h=Object(Zt.a)(m,2),E=h[0],f=h[1],g=Object(n.useState)([{src:""}]),O=Object(Zt.a)(g,2),b=O[0],y=O[1],I=function(t,a){var r=e.photos.reduce(function(t,a){return"imageUrl"===e.name?t.push({src:a.imageUrl}):t.push({src:URL.createObjectURL(a)}),t},[]);y(r),p(a),f(!0)};return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",null,t&&t.map(function(t,n){return s.a.createElement("div",{className:"order-photo-wrapper",key:n},a?null:s.a.createElement("div",{className:"cross-image",onClick:function(t){return e.removeImage(t,n,e.photos,e.id)}},s.a.createElement(H.a,{icon:"times"})),r?s.a.createElement(s.a.Fragment,null,"imageUrl"===o?s.a.createElement("div",{className:"gallery-item ".concat(i),style:{backgroundImage:"url("+t.imageUrl+")"},onClick:function(e){return I(0,n)}}):s.a.createElement("div",{className:"gallery-item ".concat(i),style:{backgroundImage:"url("+URL.createObjectURL(t)+")"},onClick:function(e){return I(0,n)}})):s.a.createElement(s.a.Fragment,null,"imageUrl"===o?s.a.createElement("div",{className:"gallery-item ".concat(i),style:{backgroundImage:"url("+t.imageUrl+")"}}):s.a.createElement("div",{className:"gallery-item ".concat(i),style:{backgroundImage:"url("+URL.createObjectURL(t)+")"}})))}),s.a.createElement("div",{className:"order-photo-wrapper"},c===v?s.a.createElement("div",{className:"gallery-item order-photo-ele order-photo-placeholder"},s.a.createElement(H.a,{icon:"spinner",className:"animate-spinner"})):s.a.createElement("div",{className:"gallery-item order-photo-ele order-photo-placeholder",onClick:function(){return e.openPictureModeModal()}},s.a.createElement(H.a,{icon:"camera"})))),s.a.createElement(Xt.b,{className:"z-highest"},E?s.a.createElement(Xt.a,{onClose:function(){p(0),f(!1)}},s.a.createElement(Xt.c,{currentIndex:d,views:b.map(function(e){return ta({},e,{srcset:e.src})})})):null))},ra=function(e){var t=Object(n.useState)(0),a=Object(Zt.a)(t,2),r=a[0],o=a[1],i=Object(n.useState)(!1),c=Object(Zt.a)(i,2),l=c[0],u=c[1],d=Object(n.useState)([{src:""}]),p=Object(Zt.a)(d,2),m=p[0],h=p[1],E=function(t,a){var r=e.photos.reduce(function(t,a){return"url"===e.name?t.push({src:a.url}):t.push({src:a.imageUrl}),t},[]);h(r),o(a),u(!0)};return s.a.createElement("div",null,s.a.createElement("div",{className:"gallery ".concat(e.mainClassName?e.mainClassName:"")},e.photos.map(function(t,a){return s.a.createElement("div",{className:"order-photo-wrapper",key:a},"url"===e.name?s.a.createElement("div",{className:"gallery-item ".concat(e.className),style:{backgroundImage:"url("+t.url+")"},onClick:function(e){return E(0,a)}}):s.a.createElement("div",{className:"gallery-item ".concat(e.className),style:{backgroundImage:"url("+t.imageUrl+")"},onClick:function(e){return E(0,a)}}))})),s.a.createElement(Xt.b,{className:"z-highest"},l?s.a.createElement(Xt.a,{onClose:function(){o(0),u(!1)}},s.a.createElement(Xt.c,{currentIndex:r,views:m.map(function(e){return ta({},e,{srcset:e.src})})})):null))},na=a(84),sa=a.n(na),oa=function(e){function t(e){var a;return Object(L.a)(this,t),(a=Object(V.a)(this,Object(U.a)(t).call(this,e))).state={openPictureModeModal:!1,position:{longitude:0,latitude:0},phones:[],noPhonesData:!1,imagesUploaded:[],showCommentAddBtn:!1,remark:""},a}return Object(F.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){this.props.actions.getOrderDetails(this.props.match.params.id),this.props.actions.getOrderPhones(this.props.match.params.id)}},{key:"addRemark",value:function(e){e.preventDefault();var t={orderId:this.props.match.params.id,remark:this.state.remark,remarkBy:"Da"};this.props.actions.addRemarks(t)}},{key:"cancelRemark",value:function(){this.setState({remark:""})}},{key:"getStatusBtn",value:function(e){return s.a.createElement("div",{className:"order-value"},e===Jt&&s.a.createElement("div",{className:"btn btn-yellow btn-sm btn-flat nohover"},"Pending"),e===Kt&&s.a.createElement("div",{className:"btn btn-red btn-sm btn-flat nohover"},"Rejected"),e===$t&&s.a.createElement("div",{className:"btn btn-green btn-sm btn-flat nohover"},"Approved"))}},{key:"getVerifiedBtn",value:function(e){return s.a.createElement(s.a.Fragment,null,e===zt?s.a.createElement("div",{className:"btn btn-info btn-sm nohover"},"OTP Verified"):e===Qt?s.a.createElement("div",{className:"btn btn-red-smoke btn-sm nohover"},"Cancelled"):s.a.createElement("div",{className:"btn btn-yellow btn-sm nohover"},"Pending"))}},{key:"closePictureModeModal",value:function(){this.setState({openPictureModeModal:!1})}},{key:"sendToOrder",value:function(){this.handleSelectedImage()}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.uploadImagesStatus,r=t.remarkStatus,n=t.getPhonesStatus,s=t.orders,o=t.orderDetailImagesStatus;a!==e.uploadImagesStatus&&a===f&&(this.props.actions.removeImageFromOrder(this.props.match.params.id),this.props.actions.getOrderDetails(this.props.match.params.id)),s.orderPhones&&n!==e.getPhonesStatus&&n===f&&this.setState({phones:s.orderPhones}),n!==e.getPhonesStatus&&n===g&&this.setState({noPhonesData:!0}),a!==e.uploadImagesStatus&&a===g&&(document.getElementById("takePicture").value="",this.props.actions.resetOrderDetailImages()),r!==e.remarkStatus&&r===f&&(document.getElementById("add-comment").blur(),this.cancelRemark()),o!==e.orderDetailImagesStatus&&o===f&&(this.sendToOrder(),this.props.actions.resetOrderDetailImagesStatus())}},{key:"handleSelectedImage",value:function(e){var t=new FormData;if(t.append("orderId",this.props.match.params.id),1==this.props.orders.uploadedImages[this.props.match.params.id].length)t.append("files",this.props.orders.uploadedImages[this.props.match.params.id][0]);else for(var a=0;a<this.props.orders.uploadedImages[this.props.match.params.id].length;a++)t.append("files",this.props.orders.uploadedImages[this.props.match.params.id][a]);t.append("latitude",this.state.position.latitude),t.append("longitude",this.state.position.longitude),t.append("imageType","order_image"),this.props.actions.uploadImages(t)}},{key:"handleDeliverClick",value:function(e,t){var a=this.props.match.params.id,r={entityId:parseInt(a),eventName:"verify_products_start"};this.props.actions.sendEvent(r);var n=this.props.orders.orderDetails.images.reduce(function(e,t){return"invoice"===t.entityType&&e.push(t),e},[]);this.props.history.push({pathname:"/order/"+a+"/products",state:{paymentMode:e,orderNumber:t,images:n}})}},{key:"handleSelectedImageChange",value:function(e,t){var a=this,r=e.target.files;this.setState({imagesUploaded:r},function(){a.props.actions.setOrderDetailImages(a.props.match.params.id,r,t),document.getElementById("takePicture").value=""})}},{key:"handleImageInputClick",value:function(e){document.getElementById(e).click(function(e){})}},{key:"openPictureModeModal",value:function(){this.handleImageInputClick("takePicture")}},{key:"toggleCommentAddBtn",value:function(e){var t=this;e.preventDefault(),this.setState(function(e){return{showCommentAddBtn:!t.state.showCommentAddBtn}})}},{key:"handleCommentValue",value:function(e){this.setState({remark:e.target.value})}},{key:"render",value:function(){var e=this,t=this.props,a=t.orders,r=t.getOrdersStatus,n=t.uploadImagesStatus,o=t.uploadImagesError,i=this.state,c=(i.openPictureModeModal,i.closePictureModeModal,i.showCommentAddBtn),l=this.props.match.params.id;return r!=v&&a.orderDetails?s.a.createElement("div",{className:"hp-container pd-top-global mh-100 white-wrap pd-bottom-global"},s.a.createElement("input",{hidden:!0,type:"file",accept:"image/*",capture:"camera",id:"takePicture",onChange:function(t,a){return e.handleSelectedImageChange(t,e.props.type)}}),s.a.createElement(_t,{title:"Order - ".concat(a.orderDetails.orderDetail.orderNumber),enableBack:!0}),s.a.createElement("div",{className:"order-card mt-neg-2"},s.a.createElement("div",{className:"orders-body mt-1"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-xs-12"},s.a.createElement("div",{className:" subtitle"},"Status \xa0 ",s.a.createElement("span",null,this.getVerifiedBtn(a.orderDetails.orderDetail.status))))),s.a.createElement("div",{className:"row mt-2"},s.a.createElement("div",{className:"col-xs-6"},s.a.createElement("div",{className:" subtitle"},"Outlet"),s.a.createElement("div",{className:" value"},a.orderDetails.orderDetail.fetchedStatus?a.orderDetails.orderDetail.outletName:"fetching data")),s.a.createElement("div",{className:"col-xs-6"},s.a.createElement("div",{className:"subtitle"},"Phone #"),s.a.createElement("div",{className:" value"},s.a.createElement(H.a,{icon:"phone",className:"blue-text"}),s.a.createElement("a",{href:"tel:".concat(this.state.phones.length>0?this.state.phones[0].phoneNumber:"")}," +91 ",this.state.phones.length>0?this.state.phones[0].phoneNumber:"")))),s.a.createElement("div",{className:"row mt-2"},s.a.createElement("div",{className:"col-xs-6"},s.a.createElement("div",{className:"subtitle"},"Address"),s.a.createElement("div",{className:"value"},a.orderDetails.orderDetail.outletAddress?a.orderDetails.orderDetail.outletAddress:"-")),s.a.createElement("div",{className:"col-xs-6"},s.a.createElement("div",{className:"subtitle"},"Delivery Slot"),s.a.createElement("div",{className:" value"},a.orderDetails.orderDetail.slotTime?a.orderDetails.orderDetail.slotTime:"-"))),c?s.a.createElement("div",{className:"fixed-verify-section flex-right z-highest order-card"},s.a.createElement("div",{className:"align-right"},this.props.remarkStatus==v?s.a.createElement("div",{className:"btn btn-green btn-sm"},s.a.createElement(H.a,{icon:"spinner",className:"animate-spinner"})):s.a.createElement("div",{className:""===this.state.remark.trim()?"btn btn-disabled btn-sm":"btn btn-green btn-sm",onMouseDown:function(t){return e.addRemark(t)}},"Add Comment"))):s.a.createElement(s.a.Fragment,null,a.orderDetails.orderDetail.otpVerified?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"fixed-verify-section z-highest order-card"},s.a.createElement("div",{className:"btn btn-expand btn-disabled"},"Already Delivered"))):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"fixed-verify-section z-highest order-card"},s.a.createElement("div",{className:"btn btn-expand btn-green",onClick:function(){return e.handleDeliverClick(a.orderDetails.orderDetail.paymentMode,a.orderDetails.orderDetail.orderNumber)}},"Verify products")))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-xs-12"},s.a.createElement("div",{className:"order-photos mt-2"},s.a.createElement("div",{className:"subtitle"},"Photos"),s.a.createElement(aa,{parentClass:"order-photo-wrapper",className:"order-photo-ele ",photos:a.orderDetails.images,id:l,removeCross:!0,name:"imageUrl",uploadImagesStatus:n,uploadImagesError:o,showRemoveImage:!0,showPhotoViewer:!0,removeImage:function(t,r,n,s){return e.props.actions.removeImage(t,r,a.uploadedImages[s],s)},openPictureModeModal:function(){return e.openPictureModeModal()}})))),s.a.createElement("div",{className:"order-photos mt-2"},s.a.createElement("div",{className:"subtitle"},"Comments"),a.orderDetails.remarks.length>0&&a.orderDetails.remarks.map(function(e,t){return s.a.createElement(s.a.Fragment,{key:t},s.a.createElement("div",{className:"mt-1"},e.message),s.a.createElement("div",{className:"mb-1 gray-text"},"by ",e.userType))}),s.a.createElement("form",{className:"mt-2 relative fs-14"},s.a.createElement("textarea",{onChange:function(t){return e.handleCommentValue(t)},value:this.state.remark,id:"add-comment",onFocus:function(t){return e.toggleCommentAddBtn(t)},onBlur:function(t){return e.toggleCommentAddBtn(t)}}),s.a.createElement("label",{className:this.state.showCommentAddBtn||this.state.remark&&""!==this.state.remark?"animate-label up":"animate-label"},s.a.createElement("span",{className:this.state.showCommentAddBtn?"green-text":""},"Add comment")))),s.a.createElement("div",{className:"light-line mt-2"}),s.a.createElement("div",{className:""},"In case of any other issues feel free to \xa0",s.a.createElement(sa.a,{className:"sushi-icon icon-fs-16 blue-text vertical-align-bottom"}),s.a.createElement("a",{href:"tel:+911171565093",className:"blue-link"}," Call Us"))))):s.a.createElement(Ut,null)}}]),t}(n.Component),ia=Object(G.g)(Object(c.b)(function(e){return{getOrdersStatus:e.statuses.getOrderDetails.status,getOrdersError:e.statuses.getOrderDetails.error,remarkStatus:e.statuses.addRemarks.status,uploadImagesStatus:e.statuses.uploadImages.status,uploadImagesError:e.statuses.uploadImages.error,getPhonesStatus:e.statuses.getOrderPhones.status,getPhonesError:e.statuses.getOrderPhones.error,orderDetailImagesStatus:e.statuses.orderDetailImages.status,orders:e.orders}},function(e){return{actions:Object(l.b)(r,e)}})(oa)),ca=(a(119),a(122),a(123),function(e){function t(e){var a;return Object(L.a)(this,t),(a=Object(V.a)(this,Object(U.a)(t).call(this,e))).listenEvent=function(e){e.target.matches(".dropdown-wrapper")||e.target.matches(".dropdown-custom")||e.target.matches(".dropdown-head")||a.setState({showMenu:!1})},a.state={showMenu:!1},a}return Object(F.a)(t,e),Object(w.a)(t,[{key:"handleSelect",value:function(e){var t=this;this.setState({selectedFilter:{key:e.key,value:e.value,sendValue:e.sendValue},showMenu:!1},function(){t.props.handleClick(t.state.selectedFilter)})}},{key:"componentDidMount",value:function(){window.addEventListener("click",this.listenEvent)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.listenEvent)}},{key:"render",value:function(){var e=this,t=this.props,a=t.menu,r=t.defaultParam,n=t.primary,o=this.state.showMenu;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:n?"dropdown-wrapper dropdown-wrapper-primary ".concat(this.props.className):"dropdown-wrapper dropdown-filter-wrapper ".concat(this.props.className),onClick:function(){return e.setState({showMenu:!e.state.showMenu})}},s.a.createElement("div",{className:"dropdown-custom"},s.a.createElement("div",{className:"dropdown-head"},r.value),o&&s.a.createElement("div",{className:"dropdown-content"},a.map(function(t,a){return s.a.createElement("div",{className:t.value==r.value?"dropdown-ele active":"dropdown-ele",onMouseDown:function(){return e.handleSelect(t)},key:a},t.value)}))),s.a.createElement(H.a,{icon:"chevron-down",className:"icon"})))}}]),t}(n.Component)),la=function(e){function t(e){var a;return Object(L.a)(this,t),(a=Object(V.a)(this,Object(U.a)(t).call(this,e))).state={countValue:0},a}return Object(F.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){this.setState({countValue:this.props.defaultValue})}},{key:"componentDidUpdate",value:function(e){e.defaultValue!==this.props.defaultValue&&this.setState({countValue:this.props.defaultValue})}},{key:"setCountValue",value:function(e){var t=e.target.value;(/^\d+$/.test(t)||""==t)&&(this.setState({countValue:t}),this.props.getValue(t))}},{key:"setBlurCountValue",value:function(e){""==e.target.value&&(this.setState({countValue:0}),this.props.getValue(0))}},{key:"handleCounter",value:function(e){"inc"==e?(this.setState({countValue:this.state.countValue+1}),this.props.getValue(this.state.countValue+1)):"dec"==e&&this.state.countValue>0&&(this.setState({countValue:this.state.countValue-1}),this.props.getValue(this.state.countValue-1))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"input-counter input-field-wrap input-field-wrap-counter right"},s.a.createElement("div",{className:0==this.state.countValue?"decrement disable":"decrement",onClick:function(){return e.handleCounter("dec")}},s.a.createElement(H.a,{icon:"minus"})),s.a.createElement("input",{type:"text",className:"input-field__input input-field__input-counter",value:this.state.countValue,onChange:function(t){return e.setCountValue(t)},onBlur:function(t){return e.setBlurCountValue(t)}}),s.a.createElement("div",{className:this.state.countValue==this.props.max?"increment disable":"increment",onClick:function(){return e.handleCounter("inc")}},s.a.createElement(H.a,{icon:"plus"})))}}]),t}(n.Component);function ua(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function da(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ua(a,!0).forEach(function(t){Object(d.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ua(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var pa=function(e){function t(e){var a;return Object(L.a)(this,t),(a=Object(V.a)(this,Object(U.a)(t).call(this,e))).state={selectedFilter:{key:0,value:"None",sendValue:0},quantityValue:"",collapsed:[],issue:null,reasonWarning:!1,disableCardTrack:[],currentCardId:null,photos:[],openPictureModeModal:!1,uploadedImages:[],hasIssueId:!1,issueId:null,imageWarning:!1,finalUpdatedValue:null},a}return Object(F.a)(t,e),Object(w.a)(t,[{key:"handleIssueChange",value:function(){var e=this,t=this.state.quantityValue;t<this.props.product.quantityDispatched?this.setState(function(a){return{issue:da({},e.props.product.issue,{reasonId:e.state.selectedFilter.sendValue,quantityDelivered:parseFloat(t)})}}):t===this.props.product.quantityDispatched&&this.setState({issue:{}})}},{key:"getValue",value:function(e){var t=this;this.setState({quantityValue:e},function(){return t.handleIssueChange()})}},{key:"componentDidMount",value:function(){var e=this,t=this.props.product.quantityDispatched,a={key:0,value:"None",sendValue:0};if(null!==this.props.product.issue){t=this.props.product.issue.quantityDelivered;var r=this.props.reasons.find(function(t){return t.key===e.props.product.issue.reasonId});r&&(a=r)}var n=this.props.product.issue?Object(P.a)(this.props.product.issue.images):[];n.reverse(),this.setState({quantityValue:t,selectedFilter:a,issueId:this.props.product.issue?this.props.product.issue.issueId:null,finalUpdatedValue:t,issue:this.props.product.issue,uploadedImages:n})}},{key:"setQuantityValue",value:function(e){var t=this;e.target.value<=this.props.product.quantityDispatched&&this.setState({quantityValue:e.target.value},function(){return t.handleIssueChange()})}},{key:"setBlurQunatityValue",value:function(e){var t=this;""===e.target.value&&this.setState({quantityValue:this.props.product.quantityDispatched},function(){return t.handleIssueChange()})}},{key:"handleReasonSelect",value:function(e){var t=this;this.setState({selectedFilter:e,reasonWarning:!1},function(){return t.handleIssueChange()})}},{key:"clearAddPhotos",value:function(){this.setState({photos:[]})}},{key:"componentDidUpdate",value:function(e,t,a){var r=this,n=this.props,s=n.saveProductIssuesStatus,o=n.orders,i=n.product,c=n.deleteProductIssuesStatus;if(this.props.isOpen&&o&&s!==e.saveProductIssuesStatus&&s===f){this.closeCard();var l=Object(P.a)(this.state.uploadedImages);for(var u in this.state.photos)l.unshift({url:URL.createObjectURL(this.state.photos[u])});this.setState({uploadedImages:l,imageWarning:!1,reasonWarning:!1,finalUpdatedValue:this.state.quantityValue},function(){r.clearAddPhotos()})}i.issue!=e.product.issue&&this.setState({issue:i.issue}),c!==e.deleteProductIssuesStatus&&c===f&&(this.closeCard(),this.props.product.id==this.props.orders.deletedProductId&&this.setState({uploadedImages:[],issue:null,imageWarning:!1,reasonWarning:!1,issueId:null,finalUpdatedValue:null,selectedFilter:{key:0,value:"None",sendValue:0}},function(){r.clearAddPhotos()}))}},{key:"toggleCard",value:function(e){(!e||this.props.isOpen)&&(null!==this.state.issue&&0!=Object.keys(this.state.issue).length||this.state.quantityValue!=this.props.product.quantityDispatched)||this.props.setIsOpen(this.props.product.id)}},{key:"closeCard",value:function(){this.props.setClose()}},{key:"toggleDefaultStateCard",value:function(){this.props.isOpen?this.props.setClose():this.props.setIsOpen(this.props.product.id)}},{key:"getIssueId",value:function(e){this.setState(function(t){return{issueId:e}})}},{key:"removeImage",value:function(e,t){var a=Object(P.a)(this.state.photos);a=a.filter(function(e,a){if(t!==a)return!0}),this.setState({photos:a})}},{key:"openPictureModeModal",value:function(){this.setState({openPictureModeModal:!0,imageWarning:!1})}},{key:"closePictureModeModal",value:function(){this.setState({openPictureModeModal:!1})}},{key:"handleIssueSubmit",value:function(e){var t=this;e.stopPropagation(),this.toggleCard(!0);var a=this.props.product.id;if(this.setState({currentCardId:this.props.product.id}),this.props.isOpen)if(0===this.state.selectedFilter.key&&this.state.quantityValue<this.props.product.quantityDispatched)this.setState({reasonWarning:!0});else{if(0==this.state.uploadedImages.length&&0==this.state.photos.length&&this.state.quantityValue<this.props.product.quantityDispatched){var r=0;if(this.props.reasons.map(function(e){e.sendValue===t.state.selectedFilter.sendValue&&e.rules&&-1!=e.rules.indexOf("PHOTO_MANDATORY")&&(t.setState({imageWarning:!0}),r=1)}),1==r)return;this.setState({imageWarning:!1})}var n=null;if(this.props.product.issue&&(n=this.props.product.issue.issueId),(this.props.orders.updatedProductIssue[a]||this.props.orders.deletedProductId==a)&&(n=this.props.orders.updatedProductIssue[a]),n||this.state.quantityValue!=this.props.product.quantityDispatched){var s=new FormData;if(this.state.issue){s.append("reasonId",this.state.issue.reasonId),s.append("quantityDelivered",this.state.issue.quantityDelivered);for(var o=0;o<this.state.photos.length;o++)s.append("files",this.state.photos[o])}this.state.quantityValue<this.props.product.quantityDispatched?this.props.setIssue(this.props.product.id,this.state.issue):this.props.deleteIssue(this.props.product.id),this.state.quantityValue==this.props.product.quantityDispatched&&n?this.props.actions.deleteProductIssues(this.props.product.id,this.props.match.params.id,n):this.props.actions.saveProductIssues(s,this.props.product.id,this.props.match.params.id,n)}else this.closeCard()}}},{key:"setImages",value:function(e){this.closePictureModeModal();for(var t=Object(P.a)(this.state.photos),a=0;a<e.length;a++)t.push(e[a]);this.setState({photos:t})}},{key:"render",value:function(){var e=this,t=this.props,a=t.product,r=t.staticCard,n=this.state,o=n.quantityValue,i=(n.currentCardId,n.openPictureModeModal),c=(n.closePictureModeModal,n.isOpen,"");return this.props.isOpen&&(c="shadow"),s.a.createElement("div",{className:this.props.allReset||this.props.isOpen?"product-card mt-1 ".concat(c):"product-card mt-1 product-card-disable ".concat(c)},s.a.createElement(Vt,{isOpen:i,hasNotWrapper:!0,closePictureModeModal:function(){return e.closePictureModeModal()},hasSameRoute:!0,default:!0,setImages:function(t){return e.setImages(t)}}),s.a.createElement("div",{className:"product-title"},s.a.createElement("div",{className:"name mr-1"}," ",a.skuName,!this.props.isOpen&&this.state.uploadedImages&&this.state.uploadedImages.length>0&&s.a.createElement("div",{className:"sub-title-msg"},s.a.createElement(H.a,{icon:"camera"}),"\xa0",this.state.uploadedImages.length," photo",this.state.uploadedImages.length>1?"s":""," uploaded")),this.props.isOpen?this.props.saveProductIssuesStatus===v&&this.props.isOpen?s.a.createElement("div",{className:"btn btn-green-small btn-transparent-green"},"Saving"):s.a.createElement("div",{className:"btn btn-white btn-card-small",onClick:function(t){return e.handleIssueSubmit(t)}},"Done"):s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{className:"qty mr-1"},!this.state.finalUpdatedValue&&0!==this.state.finalUpdatedValue||a.quantityDispatched==this.state.finalUpdatedValue?null:s.a.createElement("span",{className:"line-through gray-text"},a.quantityDispatched),"\xa0 ",s.a.createElement("b",null,o," ",a.measurementUnit)),s.a.createElement("div",{className:"flex flex-vertical-align",onClick:function(t){return e.handleIssueSubmit(t)}},s.a.createElement("span",{className:"green-text mr-1"},"Edit"),s.a.createElement(H.a,{icon:"angle-down",className:"gray-text qty"})))),s.a.createElement("div",{className:this.props.isOpen?"orders-body":"collapsed-body"},s.a.createElement("div",null,s.a.createElement("div",{className:"light-line"}),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-xs-6 subtitle"},"Quantity Ordered"),s.a.createElement("div",{className:"col-xs-6 align-right right-value"},s.a.createElement("b",null,a.quantityOrdered," ","count"!==a.measurementUnit&&a.measurementUnit))),s.a.createElement("div",{className:"row mt-1"},s.a.createElement("div",{className:"col-xs-7 subtitle"},"Quantity Dispatched"),s.a.createElement("div",{className:"col-xs-5 align-right right-value"},s.a.createElement("b",null,a.quantityDispatched," ","count"!==a.measurementUnit&&a.measurementUnit))),!r&&s.a.createElement("div",{className:"row mt-1"},s.a.createElement("div",{className:"col-xs-6 subtitle"},"Quantity Delivered"),s.a.createElement("div",{className:"col-xs-6 align-right right-value"},"count"===a.measurementUnit?s.a.createElement(la,{min:0,defaultValue:o,max:a.quantityDispatched,getValue:function(t){return e.getValue(t)}}):s.a.createElement("div",{className:"input-counter input-field-wrap input-field-wrap-counter right"},s.a.createElement("input",{type:"text",className:"input-field__input input-field__input-quantity",value:o,onChange:function(t){return e.setQuantityValue(t)},placeholder:"Enter",onBlur:function(t){return e.setBlurQunatityValue(t)},max:10})),s.a.createElement("div",{className:"clearfix"}))),!r&&s.a.createElement("div",{className:"mt-1 row"},s.a.createElement("div",{className:"".concat(this.state.reasonWarning&&this.state.quantityValue<this.props.product.quantityDispatched?"red-text col-xs-12":"col-xs-12")},s.a.createElement("b",null,"Select issue")),s.a.createElement("div",{className:"col-xs-12"},s.a.createElement(ca,{history:this.props.history,primary:!0,className:this.state.reasonWarning?"red flex-margin z-highest small-content":"flex-margin z-highest small-content",menu:this.props.reasons,defaultParam:this.state.selectedFilter,handleClick:function(t){return e.handleReasonSelect(t)}}))),s.a.createElement("div",{className:"order-photos mt-2"},s.a.createElement("div",{className:this.state.imageWarning?"red-text subtitle":"subtitle"},s.a.createElement("b",null,"Add Photos")),s.a.createElement("div",{className:"horizontal-scroll"},s.a.createElement("div",{className:"order-photo-wrapper"},s.a.createElement("div",{className:this.state.imageWarning?"gallery-item order-photo-ele order-photo-placeholder red-order-photo-placeholder":"gallery-item order-photo-ele order-photo-placeholder",onClick:function(){return e.openPictureModeModal()}},s.a.createElement(H.a,{icon:"camera"}))),this.state.photos&&this.state.photos.map(function(t,a){return s.a.createElement("div",{className:"order-photo-wrapper"},s.a.createElement("div",{className:"cross-image",onClick:function(t){return e.removeImage(t,a)}},s.a.createElement(H.a,{icon:"times"})),s.a.createElement("div",{className:"gallery-item order-photo-ele",style:{backgroundImage:"url("+URL.createObjectURL(t)+")"}}))}),this.state.uploadedImages&&this.state.uploadedImages.length>0&&s.a.createElement("div",{className:"inline-block "},s.a.createElement(ra,{parentClass:"order-photo-wrapper",className:"order-photo-ele ",photos:this.state.uploadedImages,name:"url",mainClassName:"",openPictureModeModal:function(){return e.openPictureModeModal()}})))))))}}]),t}(n.Component),ma=Object(G.g)(Object(c.b)(function(e){return{saveProductIssuesStatus:e.statuses.saveProductIssues.status,saveProductIssuesError:e.statuses.saveProductIssues.error,deleteProductIssuesStatus:e.statuses.deleteProductIssues.status,deleteProductIssuesError:e.statuses.deleteProductIssues.error,orders:e.orders}},function(e){return{actions:Object(l.b)(r,e)}})(pa)),ha=function(e){function t(e){var a;return Object(L.a)(this,t),(a=Object(V.a)(this,Object(U.a)(t).call(this,e))).setIssue=function(e,t){var r=a.state.issues;r[[e]]=t,a.setState({issues:r,issueItems:Object.keys(r).length})},a.deleteIssue=function(e){var t=a.state.issues;delete t[[e]],a.setState({issues:t,issueItems:Object.keys(t).length})},a.state={products:[],hasNoSearchResult:!1,reasons:[],issues:{},totalItems:0,issueItems:0,isOpen:[],allReset:!0,toggleDownWrapper:!1,showInvoiceModal:!1},a}return Object(F.a)(t,e),Object(w.a)(t,[{key:"setSearchVal",value:function(e){this.state.products;if(""!=e.target.value){var t=this.props.orders.orderProducts.filter(function(t,a){if(t.skuName.toLowerCase().includes(e.target.value.toLowerCase()))return t});this.setState({products:t,hasNoSearchResult:!1})}else this.setState({products:this.props.orders.orderProducts,hasNoSearchResult:!0})}},{key:"componentDidMount",value:function(){this.props.actions.getAllIssueReasons("productIssue"),this.props.actions.getOrderProducts(this.props.match.params.id)}},{key:"componentDidUpdate",value:function(e,t,a){var r=this,n=this.props,s=n.getAllIssueReasonsStatus,o=n.orders,i=n.getOrderProductsStatus;if(o.reasons&&s!==e.getAllIssueReasonsStatus&&s===f){var c=o.reasons.map(function(e){return{key:e.id,value:e.name,sendValue:e.id,rules:e.rules}});c.push({key:0,value:"None",sendValue:0,rules:null}),this.setState({reasons:c})}if(o.orderProducts&&i!==e.getOrderProductsStatus&&i===f){o.orderProducts.forEach(function(e){null!==e.issue&&e.issue.quantityDelivered<e.quantityDispatched&&r.setIssue(e.id,e.issue)}),this.setState({products:o.orderProducts,totalItems:o.orderProducts.length});var l=[];for(var u in o.orderProducts)l[o.orderProducts[u].id]=!1;this.setState({isOpen:l})}}},{key:"handleOnSubmit",value:function(){var e=this.props.location.state.images;if(0===e.length)this.setState({showInvoiceModal:!0});else{var t=this.props.match.params.id;this.props.history.push({pathname:"/order/"+t+"/invoice",state:{id:t,images:e,orderNumber:this.props.location.state.orderNumber}})}}},{key:"setIsOpen",value:function(e){var t=Object(P.a)(this.state.isOpen);if(1==t[e])t[e]=!1,this.setState({allReset:!1});else{for(var a in t)t[a]=!1;t[e]=!0}this.setState({allReset:!1}),this.setState({isOpen:t,toggleDownWrapper:!0})}},{key:"setClose",value:function(){var e=Object(P.a)(this.state.isOpen);for(var t in e)e[t]=!1;this.setState({allReset:!0}),this.setState({isOpen:e,toggleDownWrapper:!1})}},{key:"closePictureModeModal",value:function(){this.setState({showInvoiceModal:!1})}},{key:"render",value:function(){var e=this,t=this.props.match.params.id,a=this.state,r=(a.hasNoSearchResult,a.showInvoiceModal);return s.a.createElement("div",{className:"pd-top-global gray-wrap mh-100"},s.a.createElement(Vt,{isOpen:r,closePictureModeModal:function(){return e.closePictureModeModal()},id:t,orderNumber:this.props.location.state.orderNumber,type:"invoice",title:"Upload Invoice",images:this.props.location.state.images,redirectedURL:"/order/".concat(t,"/invoice"),modalBody:function(){return s.a.createElement("div",{className:"center mt-neg-2"},s.a.createElement("p",{className:"fs-16 mb-2 align-left"},"Please take an image of the invoice and make sure that the amount and items are clearly visible"),s.a.createElement("img",{src:"../../images/invoiceSample.png"}))}}),this.props.location.state?this.props.getAllIssueReasonsStatus===v||this.props.getOrderProductsStatus===v||this.props.saveProductIssuesStatus===v?s.a.createElement(Ut,null):s.a.createElement("div",null,s.a.createElement("div",{className:"order-top-header "},s.a.createElement("div",{className:"input-field-wrap"},s.a.createElement("input",{type:"text",className:"input-field__input search-input search-input--left-icon",placeholder:"Search Products",onChange:function(t){return e.setSearchVal(t)}}),s.a.createElement("div",{className:"search-icon"},s.a.createElement(Bt.a,{className:"icon-color-gray icon-fs-15"})))),s.a.createElement(_t,{title:"".concat(this.props.location.state.orderNumber," - Products"),enableBack:!0}),s.a.createElement("div",{className:"pd-bottom-global"},s.a.createElement(s.a.Fragment,null,this.state.products.map(function(t){return s.a.createElement(ma,{key:t.id,history:e.props.history,product:t,reasons:e.state.reasons,allReset:e.state.allReset,setIssue:e.setIssue,deleteIssue:e.deleteIssue,setIsOpen:function(t){return e.setIsOpen(t)},setClose:function(){return e.setClose()},isOpen:e.state.isOpen[t.id]})}),0===this.state.products.length&&s.a.createElement("div",{className:"warning fs-14 red-text"},"Products not found"))),s.a.createElement("div",{className:this.state.toggleDownWrapper?"order-card fixed-verify-section z-highest toggleDown":"order-card fixed-verify-section z-highest"},s.a.createElement("div",{className:""},"Total Items: ",s.a.createElement("b",null,this.state.totalItems)," ",s.a.createElement("br",null),"Upd. Items: ",s.a.createElement("b",null,this.state.issueItems," ")),s.a.createElement("div",{className:"btn btn-green-flat btn-green ",onClick:function(){return e.handleOnSubmit()}},"Complete Verification"))):s.a.createElement("div",null,s.a.createElement(_t,{title:"Products",enableBack:!0}),s.a.createElement("div",{className:"pd-top-global fs-18 red-text center"},"Unauthorized!!!")))}}]),t}(n.Component),Ea=Object(G.g)(Object(c.b)(function(e){return{getAllIssueReasonsStatus:e.statuses.getAllIssueReasons.status,getAllIssueReasonsError:e.statuses.getAllIssueReasons.error,getOrderProductsStatus:e.statuses.getOrderProducts.status,getOrderProductError:e.statuses.getOrderProducts.error,orders:e.orders}},function(e){return{actions:Object(l.b)(r,e)}})(ha)),va=function(e){function t(e){var a;return Object(L.a)(this,t),(a=Object(V.a)(this,Object(U.a)(t).call(this,e))).state={selectedFilter:{key:"abc",value:"abc",sendValue:"abc"},quantityValue:""},a}return Object(F.a)(t,e),Object(w.a)(t,[{key:"getValue",value:function(e){this.setState({quantityValue:e})}},{key:"componentDidMount",value:function(){this.setState({quantityValue:this.props.product.quantityOrdered})}},{key:"setQuantityValue",value:function(e){this.setState({quantityValue:e.target.value})}},{key:"render",value:function(){var e=this.props.product,t=null!==e.issue?e.issue.quantityDelivered:e.quantityDispatched,a=e.pricePerUnit*t*e.gstRate/100,r=e.pricePerUnit*t+a;return s.a.createElement("div",{className:"order-card product-card mt-2"},s.a.createElement("div",{className:"product-title"},s.a.createElement("b",null," ",e.skuName," "),s.a.createElement("div",{className:"clearfix"})),s.a.createElement("div",{className:"light-line"}),s.a.createElement("div",{className:"orders-body products-verify-body"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-xs-4"},s.a.createElement("div",{className:"subtitle"},"Quantity",s.a.createElement("br",null)," Ordered"),s.a.createElement("div",{className:"value"},e.quantityOrdered," ","count"!==e.unit&&e.unit)),s.a.createElement("div",{className:"col-xs-4"},s.a.createElement("div",{className:"subtitle"},"Quantity",s.a.createElement("br",null)," Dispatched"),s.a.createElement("div",{className:"value"},e.quantityDispatched," ","count"!==e.unit&&e.unit)),s.a.createElement("div",{className:"col-xs-4"},s.a.createElement("div",{className:"subtitle"},"Quantity",s.a.createElement("br",null)," Accepted"),s.a.createElement("div",{className:t<e.quantityDispatched?"value red-text":"value"},t," ","count"!==e.unit&&e.unit))),s.a.createElement("div",{className:"row mt-2 mb-1"},s.a.createElement("div",{className:"col-xs-4"},s.a.createElement("div",{className:"subtitle"},"Price/Unit"),s.a.createElement("div",{className:"value"},"\u20b9 ",e.pricePerUnit)),s.a.createElement("div",{className:"col-xs-4"},s.a.createElement("div",{className:"subtitle"},"Taxes"),s.a.createElement("div",{className:"value"},a)),s.a.createElement("div",{className:"col-xs-4"},s.a.createElement("div",{className:"subtitle"},"Total Price"),s.a.createElement("div",{className:"value"},s.a.createElement("b",null," \u20b9 ",r," "))))))}}]),t}(n.Component),fa=function(e){function t(e){var a;return Object(L.a)(this,t),(a=Object(V.a)(this,Object(U.a)(t).call(this,e))).state={products:[],orderDetails:{originalPrice:0,updatedPrice:0}},a}return Object(F.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){this.props.actions.getOrderProducts(this.props.match.params.id)}},{key:"componentDidUpdate",value:function(e,t,a){var r=this.props,n=r.orders,s=r.getOrderProductsStatus;if(n.orderProducts&&s!==e.getOrderProductsStatus&&s===f){var o=0,i=0;n.orderProducts.forEach(function(e){var t=e.pricePerUnit*e.quantityDispatched*e.gstRate/100,a=e.pricePerUnit*e.quantityDispatched+t,r=null!==e.issue?e.issue.quantityDelivered:e.quantityDispatched,n=e.pricePerUnit*r*e.gstRate/100,s=e.pricePerUnit*r+n;o+=a,i+=s}),this.setState({products:n.orderProducts,orderDetails:{originalPrice:o,updatedPrice:i}})}}},{key:"handleVerifyCLick",value:function(){var e=this.props.match.params.id;this.props.location.state&&"COD"===this.props.location.state.paymentMode?this.props.history.push({pathname:"/order/"+e+"/cod",state:{cash:this.state.orderDetails.updatedPrice,orderNumber:this.props.location.state.orderNumber}}):this.props.history.push({pathname:"/order/"+e+"/verifyDelivery",state:{orderNumber:this.props.location.state.orderNumber}})}},{key:"render",value:function(){var e=this,t=this.props.match.params.id;return s.a.createElement("div",null,this.props.location.state?s.a.createElement("div",null,s.a.createElement(_t,{title:"".concat(this.props.location.state.orderNumber," - Products"),enableBack:!0}),this.props.getOrderProductsStatus===v?s.a.createElement("div",{className:"pd-top-global"},s.a.createElement(Ut,null)):s.a.createElement("div",{className:"pd-top-global gray-wrap pd-bottom-global mh-100"},s.a.createElement("div",{className:" verify-top-header"},s.a.createElement("div",{className:"fs-14 vertical-align-middle"},"Have issues?"),s.a.createElement("div",{className:"btn btn-green-flat btn-green",onClick:function(){return e.props.history.push({pathname:"/order/"+t+"/products",state:{orderNumber:e.props.location.state.orderNumber}})}},"Record Issues")),s.a.createElement(s.a.Fragment,null,this.state.products.map(function(e){return s.a.createElement(va,{product:e,key:e.id})})),s.a.createElement("div",{className:"order-card mt-2"},s.a.createElement("div",{className:"btn btn-expand btn-green ",onClick:function(){return e.props.history.push({pathname:"/order/"+t+"/products",state:{orderNumber:e.props.location.state.orderNumber}})}},"Record Issues")),s.a.createElement("div",{className:"order-card fixed-verify-section"},s.a.createElement("div",{className:""},"Org. Price: ",s.a.createElement("b",null,"\u20b9",this.state.orderDetails.originalPrice)," ",s.a.createElement("br",null),"Upd. Price: ",s.a.createElement("b",null,"\u20b9",this.state.orderDetails.updatedPrice," ")),s.a.createElement("div",{className:"btn btn-green-flat btn-green ",onClick:function(){return e.handleVerifyCLick()}},"Mark Delivered")))):s.a.createElement("div",null,s.a.createElement(_t,{title:"Products",enableBack:!0}),s.a.createElement("div",{className:"pd-top-global fs-18 red-text center"},"Unauthorized!!!")))}}]),t}(n.Component),ga=Object(G.g)(Object(c.b)(function(e){return{getOrderProductsStatus:e.statuses.getOrderProducts.status,getOrderProductError:e.statuses.getOrderProducts.error,orders:e.orders}},function(e){return{actions:Object(l.b)(r,e)}})(fa)),Oa=a(19),ba=function(e){function t(e){var a;return Object(L.a)(this,t),(a=Object(V.a)(this,Object(U.a)(t).call(this,e))).state={phones:[],selectedPhone:null,noPhonesData:!1,prodEnv:!1},a}return Object(F.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_API_ENDPOINT?this.setState({selectedPhone:this.props.user&&this.props.user.phone}):(this.setState({prodEnv:!0}),this.props.actions.getOrderPhones(this.props.match.params.id))}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.getPhonesStatus,r=t.orders,n=t.sendDeliveryOtpStatus;r.orderPhones&&a!==e.getPhonesStatus&&a===f&&this.setState({phones:r.orderPhones}),a!==e.getPhonesStatus&&a===g&&this.setState({noPhonesData:!0}),n!==e.sendDeliveryOtpStatus&&n===f&&this.props.sendOtpDone(this.state.selectedPhone)}},{key:"handlePhoneClick",value:function(){this.props.actions.sendDeliveryOtp({phoneNumber:this.state.selectedPhone,orderId:parseInt(this.props.match.params.id)})}},{key:"handleOptionChange",value:function(e){this.setState({selectedPhone:e})}},{key:"render",value:function(){var e=this;return this.props.sendDeliveryOtpStatus===v?s.a.createElement(Ut,null):s.a.createElement("div",{className:"mh-100"},this.state.noPhonesData?s.a.createElement("div",{className:"phone-card fs-14 pd-top-20"},s.a.createElement("div",{className:"mb-2 red-text"},"No Phones Mapped!!!"),"Please ask the merchant to contact Hyperpure (+91 11 71565093 / help@hyperpure.com)"):s.a.createElement("form",null,this.state.prodEnv?s.a.createElement(s.a.Fragment,null,this.state.phones.map(function(t,a){return s.a.createElement("label",{className:"input-radio-wrapper mb-2 fs-14"},s.a.createElement("div",{className:"label-wrap"},s.a.createElement("input",{type:"radio",value:"option1",checked:e.state.selectedPhone===t.phoneNumber,onChange:function(){return e.handleOptionChange(t.phoneNumber)}}),s.a.createElement("div",{className:"checked"})),s.a.createElement("span",{className:"phone-title"},t.name,s.a.createElement("div",{className:"right okra-med"},t.phoneNumber),s.a.createElement("div",{className:"clearfix"})))})):s.a.createElement("label",{className:"input-radio-wrapper mb-2 fs-14"},s.a.createElement("div",{className:"label-wrap"},s.a.createElement("input",{type:"radio",value:"option1",checked:!0,onChange:function(){return e.handleOptionChange(e.props.user&&e.props.user.phone)}}),s.a.createElement("div",{className:"checked"})),s.a.createElement("span",{className:"phone-title"},"Self (for testing)",s.a.createElement("div",{className:"right okra-med"},this.props.user&&this.props.user.phone),s.a.createElement("div",{className:"clearfix"}))),s.a.createElement("div",{className:"order-card fixed-verify-section z-highest"},s.a.createElement("div",{className:this.state.selectedPhone?"btn btn-green-flat btn-expand btn-green":"btn btn-green-flat btn-expand btn-disabled",onClick:function(){return e.handlePhoneClick()}},"Send OTP"))))}}]),t}(n.Component),ya=Object(G.g)(Object(c.b)(function(e){return{getPhonesStatus:e.statuses.getOrderPhones.status,getPhonesError:e.statuses.getOrderPhones.error,sendDeliveryOtpStatus:e.statuses.sendDeliveryOtp.status,sendDeliveryOtpError:e.statuses.sendDeliveryOtp.error,orders:e.orders,user:e.auth.user}},function(e){return{actions:Object(l.b)(r,e)}})(ba));function Ia(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function Na(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ia(a,!0).forEach(function(t){Object(d.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ia(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Da=function(e){function t(e){var a;return Object(L.a)(this,t),(a=Object(V.a)(this,Object(U.a)(t).call(this,e))).state={otp:{fields:{otp:"",orderId:""},errors:{otp:null}},validations:{otp:null},allValidated:!1,validationFailed:!1,resetSetTimeout:!1},a}return Object(F.a)(t,e),Object(w.a)(t,[{key:"handleChange",value:function(e,t,a){var r=this;this.setState(function(r){return Object(d.a)({},e,{errors:Na({},r[e].errors),fields:Na({},r[e].fields,Object(d.a)({},t,a))})},function(){r.validateThisField(e,t,a)})}},{key:"beginValidation",value:function(e,t,a){var r=this;this.setState(function(e){return{validations:Na({},e.validations,Object(d.a)({},t,!0))}},function(){r.validateThisField(e,t,a)})}},{key:"validateThisField",value:function(e,t,a){var r=Ue(this.state[e]),n=r[t];this.setState(function(a){var s;return s={},Object(d.a)(s,e,Na({},a[e],{errors:Na({},a[e].errors,Object(d.a)({},t,n))})),Object(d.a)(s,"allValidated",r.isValidated),s})}},{key:"resendOtp",value:function(e){var t=this,a={};e&&(a.voice=!0),a.phoneNumber=this.props.phoneNumber,this.setState({resetSetTimeout:!0}),setTimeout(function(){t.setState({resetSetTimeout:!1})},15e3),a.orderId=parseInt(this.props.match.params.id),this.props.actions.resendDeliveryOtp(a)}},{key:"onSubmitOTP",value:function(e){var t=this;e.preventDefault();var a=Ue(this.state.otp);a.isValidated?this.setState(function(e){return{otp:Na({},e.otp,{errors:{}})}},function(){var e=t.state.otp.fields;e.orderId=parseInt(t.props.match.params.id),t.props.actions.verifyDeliveryOtp(e)}):this.setState(function(e){return{otp:Na({},e.otp,{errors:a})}})}},{key:"componentDidUpdate",value:function(e){var t=this.props.verifyOtpStatus;if(t!==e.verifyOtpStatus&&t===f){var a={entityId:parseInt(this.props.match.params.id),eventName:"delivery_complete"};this.props.actions.sendEvent(a),this.props.history.replace("/success")}t!==e.verifyOtpStatus&&t===g&&this.setState({validationFailed:!0})}},{key:"render",value:function(){var e=this,t=this.props.resendDeliveryOtpStatus;return s.a.createElement("div",{className:"mt-2 fs-14 global-form"},this.props.hasSentOTP&&s.a.createElement("div",null,"We have sent 6 digit otp to ",this.props.phoneNumber),s.a.createElement("form",{onSubmit:function(t){return e.onSubmitOTP(t)}},s.a.createElement("div",{className:"input-field-wrap mt-4"},s.a.createElement(qe,{digits:6,onChange:function(t){return e.handleChange("otp","otp",t)},validateOTP:function(t){return e.beginValidation("otp","otp",t)},errorMsg:this.state.validations.otp?this.state.otp.errors.otp:null}),this.state.validationFailed&&s.a.createElement("span",null," Wrong OTP")),s.a.createElement("div",{className:"btn-wrapper"},s.a.createElement("button",{type:"submit",className:this.state.allValidated?"btn btn-green":"btn btn-disabled"},this.props.verifyOtpStatus===v?"Verifying...":"Verify OTP")),s.a.createElement(s.a.Fragment,null,this.props.hasSentOTP&&s.a.createElement("div",{className:"btn-wrapper mt-4"},"Didn't receive OTP?",s.a.createElement("br",null),t===v?s.a.createElement("span",{className:"green-link"},"Sending..."):s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{className:this.state.resetSetTimeout?"green-link disabled":"green-link pointer",onClick:function(){return e.resendOtp()}},"Resend OTP")))),s.a.createElement("div",{className:"mt-7"},s.a.createElement("div",{className:"light-line"}),"Merchant not available?",s.a.createElement("br",null),s.a.createElement("div",{className:"green-link mt-1",onClick:this.props.backToPhoneSelect},"Change Number")),this.props.errors&&this.props.errors.error?s.a.createElement("div",{className:"error mt-1"},this.props.errors.error.message):null))}}]),t}(n.Component),Sa=Object(G.g)(Object(c.b)(function(e){return{verifyOtpError:e.statuses.verifyDeliveryOtp.error,verifyOtpStatus:e.statuses.verifyDeliveryOtp.status,resendDeliveryOtpStatus:e.statuses.resendDeliveryOtp.status,resendDeliveryOtpError:e.statuses.resendDeliveryOtp.error}},function(e){return{actions:Object(l.b)(r,e)}})(Da)),_a=function(e){function t(e){var a;return Object(L.a)(this,t),(a=Object(V.a)(this,Object(U.a)(t).call(this,e))).state={hasSentOTP:!1,phoneNo:null,initialState:!0},a}return Object(F.a)(t,e),Object(w.a)(t,[{key:"sendOtpDone",value:function(e){this.setState({hasSentOTP:!0,phoneNo:e,initialState:!1})}},{key:"backToPhoneSelect",value:function(){this.setState({hasSentOTP:!1,phoneNo:null,initialState:!1})}},{key:"hashPhoneNumber",value:function(e){return e[0]+e[1]+"******"+e[8]+e[9]}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,this.props.location.state?s.a.createElement(s.a.Fragment,null,s.a.createElement(_t,{title:"".concat(this.props.location.state.orderNumber),enableBack:!0}),s.a.createElement("div",{className:"order-top-header pd-top-global"},this.state.hasSentOTP||this.state.initialState?s.a.createElement("div",null,s.a.createElement("div",{className:"fs-24"},"Enter Delivery OTP"),s.a.createElement("div",{className:"fs-14 mt-1"},"The OTP was shared with the merchant at the time of Order Placement")):s.a.createElement("div",{className:"fs-14 align-left"},"Select phone number to ",s.a.createElement("b",null,"receive OTP"),s.a.createElement("div",{className:"light-line"})),this.state.hasSentOTP||this.state.initialState?s.a.createElement(Sa,{backToPhoneSelect:function(){return e.backToPhoneSelect()},phoneNumber:this.state.phoneNo,hasSentOTP:this.state.hasSentOTP}):s.a.createElement(ya,{sendOtpDone:function(t){return e.sendOtpDone(t)}}))):s.a.createElement("div",null,s.a.createElement(_t,{title:"VERIFY DELIVERY",enableBack:!0}),s.a.createElement("div",{className:"pd-top-global fs-18 red-text center"},"Unauthorized!!!")))}}]),t}(n.Component),Pa=Object(G.g)(Object(c.b)()(_a)),ka=function(e){function t(e){var a;return Object(L.a)(this,t),(a=Object(V.a)(this,Object(U.a)(t).call(this,e))).state={photos:[],images:[]},a}return Object(F.a)(t,e),Object(w.a)(t,[{key:"openPictureModeModal",value:function(){this.setState({openPictureModeModal:!0})}},{key:"closePictureModeModal",value:function(){this.setState({openPictureModeModal:!1})}},{key:"setImages",value:function(e){this.closePictureModeModal();for(var t=Object(P.a)(this.state.photos),a=0;a<e.length;a++)t.push(e[a]);this.setState({photos:t})}},{key:"componentDidMount",value:function(){if(this.props.actions.getOrderDetails(this.props.match.params.id),this.props.location.state&&this.props.orders&&this.props.orders.invoiceImages[this.props.location.state.id]){var e=Object(P.a)(this.props.orders.invoiceImages[this.props.location.state.id]);this.setState({photos:e})}}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.uploadImagesStatus,r=t.getOrdersStatus;if(a!==e.uploadImagesStatus&&a===f){var n={entityId:parseInt(this.props.match.params.id),eventName:"verify_products_complete"};this.props.actions.sendEvent(n),this.props.history.push({pathname:"/order/".concat(this.props.match.params.id,"/verifyDelivery"),state:{id:this.props.match.params.id,orderNumber:this.props.location.state.orderNumber}})}if(r!==e.getOrdersStatus&&r===f){var s=this.props.orders.orderDetails.images.reduce(function(e,t){return"invoice"===t.entityType&&e.push(t),e},[]);this.setState({images:s})}}},{key:"removeImage",value:function(e,t){var a=Object(P.a)(this.state.photos);a=a.filter(function(e,a){if(t!==a)return!0}),this.setState({photos:a})}},{key:"uploadInvocies",value:function(){var e=new FormData;if(e.append("orderId",this.props.location.state.id),1==this.state.photos.length)e.append("files",this.state.photos[0]);else for(var t=0;t<this.state.photos.length;t++)e.append("files",this.state.photos[t]);e.append("latitude",0),e.append("longitude",0),e.append("imageType","invoice"),this.props.actions.uploadImages(e)}},{key:"pushToVerify",value:function(){if(this.state.photos.length>0){var e=new FormData;if(e.append("orderId",this.props.location.state.id),1==this.state.photos.length)e.append("files",this.state.photos[0]);else for(var t=0;t<this.state.photos.length;t++)e.append("files",this.state.photos[t]);e.append("latitude",0),e.append("longitude",0),e.append("imageType","invoice"),this.props.actions.uploadImages(e)}else{var a={entityId:parseInt(this.props.match.params.id),eventName:"verify_products_complete"};this.props.actions.sendEvent(a),this.props.history.push({pathname:"/order/".concat(this.props.match.params.id,"/verifyDelivery"),state:{id:this.props.match.params.id,orderNumber:this.props.location.state.orderNumber}})}}},{key:"render",value:function(){var e=this,t=this.state,a=t.openPictureModeModal,r=(t.closePictureModeModal,this.props.getOrdersStatus);return this.props.location.state?s.a.createElement("div",{className:"pd-top-global gray-wrap mh-100"},s.a.createElement(Vt,{isOpen:a,closePictureModeModal:function(){return e.closePictureModeModal()},hasSameRoute:!0,default:!0,hasNotWrapper:!0,setImages:function(t){return e.setImages(t)}}),s.a.createElement(_t,{title:"Invoice - ".concat(this.props.location.state.id),enableBack:!0}),s.a.createElement("div",{className:"order-top-header fs-14"},s.a.createElement("div",{className:"subtitle"},s.a.createElement("b",null,"Uploaded Invoices")),r==v?s.a.createElement(Ut,null):null,this.state.images&&this.state.images.length>0&&s.a.createElement("div",{className:"order-photos "},s.a.createElement(ra,{parentClass:"order-photo-wrapper",className:"order-photo-ele ",photos:this.state.images,id:this.props.location.state.id})),s.a.createElement("div",{className:"order-photos mt-2"},s.a.createElement("div",{className:"horizontal-scroll"},s.a.createElement("div",{className:"order-photo-wrapper"},s.a.createElement("div",{className:"gallery-item order-photo-ele order-photo-placeholder",onClick:function(){return e.openPictureModeModal()}},s.a.createElement(H.a,{icon:"camera"}))),this.state.photos&&this.state.photos.map(function(t,a){return s.a.createElement("div",{className:"order-photo-wrapper"},s.a.createElement("div",{className:"cross-image",onClick:function(t){return e.removeImage(t,a)}},s.a.createElement(H.a,{icon:"times"})),s.a.createElement("div",{className:"gallery-item order-photo-ele",style:{backgroundImage:"url("+URL.createObjectURL(t)+")"}}))})),s.a.createElement("div",{className:"fixed-verify-section z-highest order-card"},0==this.state.images.length?s.a.createElement(s.a.Fragment,null,this.props.uploadImagesStatus==v?s.a.createElement("div",{className:"btn btn-green btn-expand"},s.a.createElement(H.a,{icon:"spinner",className:"animate-spinner"})):s.a.createElement("div",{className:this.state.photos&&this.state.photos.length>0?"btn btn-green btn-expand ":"btn btn-expand  btn-disabled",onClick:function(){return e.uploadInvocies()}},"Upload invoice")):s.a.createElement(s.a.Fragment,null,this.props.uploadImagesStatus==v?s.a.createElement("div",{className:"btn btn-green btn-expand"},s.a.createElement(H.a,{icon:"spinner",className:"animate-spinner"})):s.a.createElement("div",{className:"btn btn-green btn-expand ",onClick:function(){return e.pushToVerify()}},"Upload invoice"))),this.props.uploadImagesStatus==g&&this.props.uploadImagesError&&s.a.createElement("div",{className:"red-text mt-2"},this.props.uploadImagesError.error.message)))):s.a.createElement(s.a.Fragment,null,s.a.createElement(_t,{title:"Invoice",enableBack:!0}),s.a.createElement("div",{className:"pd-top-global fs-18 red-text center"},"Unauthorized!!!"))}}]),t}(n.Component),Ra=Object(G.g)(Object(c.b)(function(e){return{getOrdersStatus:e.statuses.getOrderDetails.status,getOrdersError:e.statuses.getOrderDetails.error,uploadImagesStatus:e.statuses.uploadImages.status,uploadImagesError:e.statuses.uploadImages.errors,orders:e.orders}},function(e){return{actions:Object(l.b)(r,e)}})(ka)),ja=(a(438),function(e){function t(){return Object(L.a)(this,t),Object(V.a)(this,Object(U.a)(t).apply(this,arguments))}return Object(F.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"success-tick-wrapper"},s.a.createElement("svg",{id:"successAnimation",className:"animated",xmlns:"http://www.w3.org/2000/svg",width:"160",height:"160",viewBox:"0 0 70 70"},s.a.createElement("path",{id:"successAnimationResult",fill:"#D8D8D8",d:"M35,60 C21.1928813,60 10,48.8071187 10,35 C10,21.1928813 21.1928813,10 35,10 C48.8071187,10 60,21.1928813 60,35 C60,48.8071187 48.8071187,60 35,60 Z M23.6332378,33.2260427 L22.3667622,34.7739573 L34.1433655,44.40936 L47.776114,27.6305926 L46.223886,26.3694074 L33.8566345,41.59064 L23.6332378,33.2260427 Z"}),s.a.createElement("circle",{id:"successAnimationCircle",cx:"35",cy:"35",r:"24",stroke:"#979797",strokeWidth:"2",strokeLinecap:"round",fill:"transparent"}),s.a.createElement("polyline",{id:"successAnimationCheck",stroke:"#979797",strokeWidth:"2",points:"23 34 34 43 47 27",fill:"transparent"})))}}]),t}(n.Component)),Ca=function(e){function t(){return Object(L.a)(this,t),Object(V.a)(this,Object(U.a)(t).apply(this,arguments))}return Object(F.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"success-container",onClick:function(){return e.props.history.push("/orders")}},s.a.createElement("div",{className:"green-text fs-24 z-highest"},s.a.createElement("b",null,"Successfully Delivered")),s.a.createElement(ja,null),s.a.createElement("div",{className:"green-text fs-22 z-highest"},"Tap to continue"))}}]),t}(n.Component),Aa=Object(G.g)(Object(c.b)()(Ca)),Ta=function(e){function t(e){var a;return Object(L.a)(this,t),(a=Object(V.a)(this,Object(U.a)(t).call(this,e))).state={},a}return Object(F.a)(t,e),Object(w.a)(t,[{key:"handleImageInputClick",value:function(e){document.getElementById(e).click(function(e){})}},{key:"componentDidMount",value:function(){this.props.orders.deliveryReasons||this.props.actions.getAllDeliveryIssueReasons("deliveryIssue")}},{key:"goToReasonPage",value:function(e){this.props.history.push("/")}},{key:"renderReasonList",value:function(){this.props.orders;return s.a.createElement(s.a.Fragment,null,"We will inform the Hyperpure team that you have cancelled the delivery.",this.props.error&&s.a.createElement("div",{className:"red-text"},this.props.error?this.props.error.message:null),this.props.openLoader?s.a.createElement(Ut,null):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"btn btn-expand btn-red mt-2",onClick:this.props.cancelOrderDelivery},"Confirm cancellation"),s.a.createElement("div",{className:"btn btn-expand btn-transparent mt-1",onClick:this.props.closeConfirmationModal},"Go back")))}},{key:"render",value:function(){var e=this.props,t=e.isOpen;e.status,e.orders;return t?s.a.createElement("div",{className:"modal"},s.a.createElement("div",{className:"modal-overlay modal-picture"},s.a.createElement("div",{className:"modal-title align-left"},"Confirm cancellation",s.a.createElement(H.a,{icon:"times",className:"right",onClick:this.props.closeConfirmationModal})),s.a.createElement("div",{className:"light-line"}),s.a.createElement("div",{className:"modal-body align-left"},this.renderReasonList()))):null}}]),t}(n.Component),Ma=Object(G.g)(Object(c.b)(function(e){return{errors:e.statuses.getDeliveryIssueReasons.errors,status:e.statuses.getDeliveryIssueReasons.status,orders:e.orders}},function(e){return{actions:Object(l.b)(r,e)}})(Ta)),La=function(e){function t(){return Object(L.a)(this,t),Object(V.a)(this,Object(U.a)(t).apply(this,arguments))}return Object(F.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this;return this.props.isOpen?s.a.createElement("div",{className:"modal"},s.a.createElement("div",{className:"modal-overlay modal-picture"},s.a.createElement("div",{className:"modal-title align-left"},"Delivery Cancelled."),s.a.createElement("div",{className:"light-line"}),s.a.createElement("div",{className:"modal-body align-left"},s.a.createElement("div",{className:"flex"},s.a.createElement("img",{src:"../../../../../images/orderbag.png"}),s.a.createElement("span",{className:"ml-1"}," We have sent your message to inform the Hyperpure team that you ",s.a.createElement("b",null,"can't deliver")," this order")),s.a.createElement("div",{className:"btn btn-green btn-expand mt-2 mb-1",onClick:function(){return e.props.history.push("/")}},"Go back to orders")))):null}}]),t}(n.Component),wa=(a(124),"storeClose"),Va="storeNotFound",Ua="others",Fa=function(e){function t(e){var a;return Object(L.a)(this,t),(a=Object(V.a)(this,Object(U.a)(t).call(this,e))).state={reasonsList:{},currentOrder:null,reasonListModel:[{subtype:wa,type:["contact","photo"],contactMessage:"<b>Call restaurant</b> to confirm it is closed",photoMessage:"<b> Incase they do not respond</b><br />Take a selfie outside the restaurant to confirm that it's closed."},{subtype:Va,type:["contact","cancel"],contactMessage:"Check that you are at the right restaurant",cancelMessage:"<b> Or</b><br />Confirm that you want to <b>cancel this order</b>"},{subtype:Ua,type:["comments"],commentMessage:'Please write to us explainging your issue in detail, to <span class="red-text">cancel delivery</span> of this order'}],openPictureModeModal:!1,openDoneModal:!1,openLoader:!1,openConfirmationModal:!1,commentMessage:""},a}return Object(F.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){if(this.props.orders.deliveryReasons){var e=this.props.match.params.orderId,t=this.props.orders.deliveryReasons.reduce(function(e,t){return e[t.id]=t.name,e},{}),a=this.props.orders&&this.props.orders.orders.reduce(function(t,a,r){return a.orderId==e&&(t=a),t},{});this.setState({reasonsList:t,currentOrder:a})}else this.props.history.push("/")}},{key:"componentDidUpdate",value:function(e){var t=this.props.cancelDeliveryIssueStatus;if(t!==e.cancelDeliveryIssueStatus&&t===f){var a={entityId:parseInt(this.props.match.params.orderId),eventName:"cancellation_complete"};this.props.actions.sendEvent(a),this.setState({openDoneModal:!0,openPictureModeModal:!1,openConfirmationModal:!1})}t!==e.cancelDeliveryIssueStatus&&t===g&&this.setState({openLoader:!1})}},{key:"renderContactCard",value:function(e,t){if(this.state.currentOrder)return s.a.createElement("div",{className:"contact-card"},s.a.createElement("span",{className:"try"},"Try this \ud83d\udc49"),s.a.createElement("br",null),s.a.createElement("span",{dangerouslySetInnerHTML:{__html:t.contactMessage}}),e==Va&&s.a.createElement("b",null,"\xa0 ",this.state.currentOrder&&this.state.currentOrder.outletAddress),this.state.currentOrder.phones.length>0&&s.a.createElement("a",{href:"tel:".concat(this.state.currentOrder.phones[this.state.currentOrder.phones.length-1].phoneNumber)},s.a.createElement("div",{className:"btn btn-green btn-expand btn-normal mt-2"},s.a.createElement(H.a,{className:"reverse",icon:"phone"}),"\xa0 Call restaurant")))}},{key:"closePictureModeModal",value:function(){this.setState({openPictureModeModal:!1})}},{key:"openPictureModeModal",value:function(){this.setState({openPictureModeModal:!0})}},{key:"closeConfirmationModal",value:function(){this.setState({openConfirmationModal:!1})}},{key:"openConfirmationModal",value:function(){this.setState({openConfirmationModal:!0})}},{key:"cancelOrderDelivery",value:function(e){var t=this.props.match.params.reasonId,a=this.props.match.params.orderId,r=new FormData;r.append("reasonId",t),""!==this.state.commentMessage&&r.append("comment",this.state.commentMessage),this.setState({openLoader:!0}),this.props.actions.cancelOrderDelivery(a,r)}},{key:"componentWillUnmount",value:function(){this.props.actions.resetCancelDeliverySatuses()}},{key:"render",value:function(){var e=this,t=(this.props.orders,this.props.match.params.reasonId),a=this.props.match.params.reasonType,r=this.props.match.params.orderId,n=this.state,o=n.reasonsList,i=n.openPictureModeModal,c=(n.closePictureModeModal,n.openConfirmationModal),l=n.openDoneModal;return s.a.createElement("div",{className:"hp-container pd-top-global"},s.a.createElement(_t,{enableBack:!0,icon:"times",title:Object.keys(o).length>0&&o[t]}),s.a.createElement(Vt,{isOpen:i,closePictureModeModal:function(){return e.closePictureModeModal()},id:t,type:"reason",redirectedURL:"/order/".concat(r,"/reason/").concat(t,"/").concat(a,"/photo")}),s.a.createElement(Ma,{isOpen:c,closeConfirmationModal:function(){return e.closeConfirmationModal()},cancelOrderDelivery:function(){return e.cancelOrderDelivery()},openLoader:this.state.openLoader,error:this.props.cancelDeliveryIssueError?this.props.cancelDeliveryIssueError.error:null}),s.a.createElement(La,{history:this.props.history,isOpen:l}),s.a.createElement("div",{className:"reason-wrapper"},this.state.reasonListModel.map(function(t,r){if(t.subtype==a)return s.a.createElement(s.a.Fragment,null,t.type.map(function(r,n){return s.a.createElement("div",{className:"reason-card"},"contact"==r&&e.renderContactCard(a,t),"photo"==r&&s.a.createElement("div",{className:"photo-card"},s.a.createElement("div",{dangerouslySetInnerHTML:{__html:t.photoMessage}}),s.a.createElement("div",{className:"center relative"},s.a.createElement("h5",{className:"gray-text"},"Sample Photo "),s.a.createElement("img",{src:"../../../../images/sample.png"}),s.a.createElement("img",{src:"../../../../images/Ellipse.png",className:"absolute-sample"})),s.a.createElement("div",{className:"btn btn-transparent-green btn-expand btn-normal mt-2",onClick:function(){return e.openPictureModeModal()}},s.a.createElement(H.a,{icon:"camera"}),"\xa0 Click photo")),"cancel"==r&&s.a.createElement("div",{className:"contact-card"},s.a.createElement("div",{dangerouslySetInnerHTML:{__html:t.cancelMessage}}),s.a.createElement("div",{className:"btn btn-transparent-red btn-expand btn-normal mt-2",onClick:function(){return e.openConfirmationModal()}},"Cancel Delivery")),"comments"==r&&s.a.createElement("div",{className:"contact-card"},s.a.createElement("div",{dangerouslySetInnerHTML:{__html:t.commentMessage}}),s.a.createElement("form",{className:"mt-2"},s.a.createElement("textarea",{placeholder:"Add Issue",value:e.state.commentMessage,onChange:function(t){return e.setState({commentMessage:t.target.value})}}),s.a.createElement("div",{className:""===e.state.commentMessage.trim()?"btn-disabled btn btn-green btn-expand btn-normal mt-1":"btn btn-green btn-expand btn-normal mt-1",onClick:function(){return e.openConfirmationModal()}},"Cancel Delivery"))))}),"Incase of any issue feel free to ",s.a.createElement("span",{className:"blue-text"},s.a.createElement(H.a,{icon:"phone",className:"reverse"})," ",s.a.createElement("a",{href:"tel:+911171565093"},"Call us")))})))}}]),t}(n.Component),Ga=Object(G.g)(Object(c.b)(function(e){return{cancelDeliveryIssueStatus:e.statuses.cancelDeliveryIssue.status,cancelDeliveryIssueError:e.statuses.cancelDeliveryIssue.errors,orders:e.orders}},function(e){return{actions:Object(l.b)(r,e)}})(Fa)),xa=function(e){function t(e){var a;return Object(L.a)(this,t),(a=Object(V.a)(this,Object(U.a)(t).call(this,e))).state={reasonsList:{},currentOrder:null,openPictureModeModal:!1,reasonImages:[],openDoneModal:!1,openLoader:!1,openConfirmationModal:!1},a}return Object(F.a)(t,e),Object(w.a)(t,[{key:"openPictureModeModal",value:function(){this.setState({openPictureModeModal:!0})}},{key:"closePictureModeModal",value:function(){this.setState({openPictureModeModal:!1})}},{key:"componentDidUpdate",value:function(e){var t=this,a=this.props.match.params.reasonId,r=this.props.cancelDeliveryIssueStatus;e.orders.reasonImages[a]||JSON.stringify(e.orders.reasonImages[a])==JSON.stringify(this.props.orders.reasonImages[a])||this.setState({reasonImages:[].concat(Object(P.a)(this.state.reasonImages),Object(P.a)(this.props.orders.reasonImages[a]))},function(){t.props.actions.resetOrderDetailImages()}),r!==e.cancelDeliveryIssueStatus&&r===f&&this.setState({openDoneModal:!0,openPictureModeModal:!1,openConfirmationModal:!1}),r!==e.cancelDeliveryIssueStatus&&r===g&&this.setState({openLoader:!1})}},{key:"componentDidMount",value:function(){var e=this;if(this.props.orders.deliveryReasons){var t=this.props.match.params.orderId,a=this.props.match.params.reasonId,r=this.props.orders.deliveryReasons.reduce(function(e,t){return e[t.id]=t.name,e},{}),n=this.props.orders&&this.props.orders.orders.reduce(function(e,a,r){return a.orderId==t&&(e=a),e},{});this.setState({reasonsList:r,currentOrder:n,reasonImages:this.props.orders.reasonImages[a]},function(){e.props.actions.resetOrderDetailImages()})}else this.props.history.push("/")}},{key:"componentWillUnmount",value:function(){this.props.actions.resetOrderDetailImages()}},{key:"removeImage",value:function(e,t){var a=Object(P.a)(this.state.reasonImages);a=a.filter(function(e,a){if(t!==a)return!0}),this.setState({reasonImages:a})}},{key:"handleOnSubmit",value:function(){alert("")}},{key:"closeConfirmationModal",value:function(){this.setState({openConfirmationModal:!1})}},{key:"openConfirmationModal",value:function(){this.setState({openConfirmationModal:!0})}},{key:"cancelOrderDelivery",value:function(){var e=this.props.match.params.reasonId,t=this.props.match.params.orderId,a=new FormData;for(var r in this.state.reasonImages)a.append("files",this.state.reasonImages[r]);a.append("reasonId",e),this.setState({openLoader:!0}),this.props.actions.cancelOrderDelivery(t,a)}},{key:"render",value:function(){var e=this,t=(this.props.orders,this.props.match.params.reasonId),a=(this.props.match.params.orderId,this.state),r=a.reasonsList,n=a.openPictureModeModal,o=a.openConfirmationModal,i=a.openDoneModal;return s.a.createElement("div",{className:"hp-container pd-top-global"},s.a.createElement(_t,{enableBack:!0,icon:"times",title:Object.keys(r).length>0&&r[t]}),s.a.createElement(Vt,{isOpen:n,closePictureModeModal:function(){return e.closePictureModeModal()},hasSameRoute:!0,id:t,type:"reason"}),s.a.createElement(Ma,{isOpen:o,closeConfirmationModal:function(){return e.closeConfirmationModal()},cancelOrderDelivery:function(){return e.cancelOrderDelivery()},openLoader:this.state.openLoader,error:this.props.cancelDeliveryIssueError?this.props.cancelDeliveryIssueError.error:null}),s.a.createElement(La,{history:this.props.history,isOpen:i}),s.a.createElement("div",{className:"reason-photo-wrapper order-top-header"},s.a.createElement("div",{className:"order-photos"},s.a.createElement("div",{className:"subtitle"},s.a.createElement("b",null,"Add Photos")),s.a.createElement("div",{className:"horizontal-scroll"},s.a.createElement("div",{className:"order-photo-wrapper"},s.a.createElement("div",{className:"gallery-item order-photo-ele order-photo-placeholder",onClick:function(){return e.openPictureModeModal()}},s.a.createElement(H.a,{icon:"camera"}))),this.state.reasonImages&&this.state.reasonImages.map(function(t,a){return s.a.createElement("div",{className:"order-photo-wrapper"},s.a.createElement("div",{className:"cross-image",onClick:function(t){return e.removeImage(t,a)}},s.a.createElement(H.a,{icon:"times"})),s.a.createElement("div",{className:"gallery-item order-photo-ele",style:{backgroundImage:"url("+URL.createObjectURL(t)+")"}}))})))),s.a.createElement("div",{className:"order-card fixed-verify-section z-highest flex-column"},s.a.createElement("div",{className:"mb-2"},"We will inform hyperpure that the ",s.a.createElement("b",null,"restaurant is closed")),s.a.createElement("div",{className:this.state.reasonImages.length>0?"btn btn-expand btn-green":"btn btn-expand btn-disabled",onClick:function(){return e.openConfirmationModal()}},"Send for approval")))}}]),t}(n.Component),Ba=Object(G.g)(Object(c.b)(function(e){return{cancelDeliveryIssueStatus:e.statuses.cancelDeliveryIssue.status,cancelDeliveryIssueError:e.statuses.cancelDeliveryIssue.errors,orders:e.orders}},function(e){return{actions:Object(l.b)(r,e)}})(xa));W.b.add(Oa.c,Oa.s,Oa.q,Oa.n,Oa.m,Oa.z,Oa.w,Oa.u,Oa.r,Oa.t,Oa.x,Oa.g,Oa.h,Oa.f,Oa.b,Oa.k,Oa.i,Oa.l,Oa.j,Oa.y,Oa.d,Oa.o,Oa.e,Oa.p,Oa.a,Oa.v);var Wa=function(e){function t(){var e,a;Object(L.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(V.a)(this,(e=Object(U.a)(t)).call.apply(e,[this].concat(n)))).state={offline:!navigator.onLine},a.setOfflineStatus=function(){a.setState({offline:!navigator.onLine})},a.componentDidMount=function(){window.addEventListener("online",a.setOfflineStatus),window.addEventListener("offline",a.setOfflineStatus)},a.componentWillUnmount=function(){window.removeEventListener("online",a.setOfflineStatus),window.removeEventListener("offline",a.setOfflineStatus)},a}return Object(F.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,this.state.offline&&s.a.createElement("div",{className:"offline-msg fs-14"},"Please connect to internet!"),s.a.createElement(G.d,null,s.a.createElement(q,{exact:!0,path:"/orders",render:function(){return s.a.createElement(Ht,null)}}),s.a.createElement(q,{exact:!0,path:"/order/:id",render:function(){return s.a.createElement(ia,null)}}),s.a.createElement(q,{exact:!0,path:"/order/:id/products",render:function(){return s.a.createElement(Ea,null)}}),s.a.createElement(q,{exact:!0,path:"/order/:id/verify",render:function(){return s.a.createElement(ga,null)}}),s.a.createElement(q,{exact:!0,path:"/order/:id/invoice",render:function(){return s.a.createElement(Ra,null)}}),s.a.createElement(q,{exact:!0,path:"/order/:id/verifyDelivery",render:function(){return s.a.createElement(Pa,null)}}),s.a.createElement(q,{exact:!0,path:"/order/:id/cod",render:function(){return s.a.createElement(kt,null)}}),s.a.createElement(q,{exact:!0,path:"/order/:orderId/reason/:reasonId/:reasonType",render:function(){return s.a.createElement(Ga,null)}}),s.a.createElement(q,{exact:!0,path:"/order/:orderId/reason/:reasonId/:reasonType/photo",render:function(){return s.a.createElement(Ba,null)}}),s.a.createElement(q,{exact:!0,path:"/success",render:function(){return s.a.createElement(Aa,null)}}),s.a.createElement(q,{reverse:!0,path:"/",render:function(){return s.a.createElement(Je,null)}})))}}]),t}(n.Component),Ya=a(142),qa={auth:{token:null,isAuthenticated:!1,user:null}};window.localStorage.getItem("token")&&(qa.auth.isAuthenticated=!0,qa.auth.token=window.localStorage.getItem("token"),window.localStorage.getItem("user")&&(qa.auth.user=JSON.parse(window.localStorage.getItem("user"))));var Ha=M(A,qa);Object(o.render)(s.a.createElement(c.a,{store:Ha},s.a.createElement(i.a,{basename:"/"},s.a.createElement(B,null,s.a.createElement(Ya.BreadcrumbsProvider,null,s.a.createElement(Wa,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},60:function(e,t,a){},94:function(e,t,a){}},[[146,1,2]]]);
//# sourceMappingURL=main.613fc31e.chunk.js.map